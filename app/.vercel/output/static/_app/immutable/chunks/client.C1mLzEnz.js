const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./enableLiveMode.DSCZBbqs.js","./index.CjDz-60S.js","./stegaEncodeSourceMap.8SzLCf01.js"])))=>i.map(i=>d[i]);
var fs=Object.defineProperty;var dr=t=>{throw TypeError(t)};var hs=(t,e,r)=>e in t?fs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var x=(t,e,r)=>hs(t,typeof e!="symbol"?e+"":e,r),pr=(t,e,r)=>e.has(t)||dr("Cannot "+r);var E=(t,e,r)=>(pr(t,e,"read from private field"),r?r.call(t):e.get(t)),k=(t,e,r)=>e.has(t)?dr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),M=(t,e,r,n)=>(pr(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{h as ds,i as ps,az as ys}from"./index-client.Bm3hC5iA.js";import{_ as ht}from"./preload-helper.BqZSpHe9.js";import{w as Xr,g as gs,d as ms}from"./index.CCg6-XlO.js";function Ha(t,e,r,n,s){var a;ds&&ps();var i=(a=e.$$slots)==null?void 0:a[r],o=!1;i===!0&&(i=e.children,o=!0),i===void 0||i(t,o?()=>n:n)}const bs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jt=/_key\s*==\s*['"](.*)['"]/,ws=/^\d*:\d*$/;function Gt(t){return typeof t=="number"||typeof t=="string"&&/^\[\d+\]$/.test(t)}function dt(t){return typeof t=="string"?Jt.test(t.trim()):typeof t=="object"&&"_key"in t}function Zr(t){if(typeof t=="string"&&ws.test(t))return!0;if(!Array.isArray(t)||t.length!==2)return!1;const[e,r]=t;return(typeof e=="number"||e==="")&&(typeof r=="number"||r==="")}function vs(t,e,r){const n=typeof e=="string"?Yt(e):e;if(!Array.isArray(n))throw new Error("Path must be an array or a string");let s=t;for(let i=0;i<n.length;i++){const o=n[i];if(Gt(o)){if(!Array.isArray(s))return r;s=s[o]}if(dt(o)){if(!Array.isArray(s))return r;s=s.find(a=>a._key===o._key)}if(typeof o=="string"&&(s=typeof s=="object"&&s!==null?s[o]:void 0),typeof s>"u")return r}return s}function Es(t){if(!Array.isArray(t))throw new Error("Path is not an array");return t.reduce((e,r,n)=>{const s=typeof r;if(s==="number")return`${e}[${r}]`;if(s==="string")return`${e}${n===0?"":"."}${r}`;if(dt(r)&&r._key)return`${e}[_key=="${r._key}"]`;if(Array.isArray(r)){const[i,o]=r;return`${e}[${i}:${o}]`}throw new Error(`Unsupported path segment \`${JSON.stringify(r)}\``)},"")}function Yt(t){if(typeof t!="string")throw new Error("Path is not a string");const e=t.match(bs);if(!e)throw new Error("Invalid path string");return e.map(Ss)}function Ss(t){return Gt(t)?As(t):dt(t)?Cs(t):Zr(t)?Ts(t):t}function As(t){return Number(t.replace(/[^\d]/g,""))}function Cs(t){return{_key:t.match(Jt)[1]}}function Ts(t){const[e,r]=t.split(":").map(n=>n===""?n:Number(n));return[e,r]}var Qt=Object.freeze({__proto__:null,fromString:Yt,get:vs,isIndexSegment:Gt,isIndexTuple:Zr,isKeySegment:dt,reKeySegment:Jt,toString:Es});const yr="drafts.";function _s(t){return t.startsWith(yr)?t.slice(yr.length):t}const gr={"\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","'":"\\'","\\":"\\\\"},mr={"\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	","\\'":"'","\\\\":"\\"};function Os(t){return`$${t.map(e=>typeof e=="string"?`['${e.replace(/[\f\n\r\t'\\]/g,r=>gr[r])}']`:typeof e=="number"?`[${e}]`:e._key!==""?`[?(@._key=='${e._key.replace(/['\\]/g,r=>gr[r])}')]`:`[${e._index}]`).join("")}`}function Rs(t){const e=[],r=/\['(.*?)'\]|\[(\d+)\]|\[\?\(@\._key=='(.*?)'\)\]/g;let n;for(;(n=r.exec(t))!==null;){if(n[1]!==void 0){const s=n[1].replace(/\\(\\|f|n|r|t|')/g,i=>mr[i]);e.push(s);continue}if(n[2]!==void 0){e.push(parseInt(n[2],10));continue}if(n[3]!==void 0){const s=n[3].replace(/\\(\\')/g,i=>mr[i]);e.push({_key:s,_index:-1});continue}}return e}function $s(t){return t.map(e=>{if(typeof e=="string"||typeof e=="number")return e;if(e._key!=="")return{_key:e._key};if(e._index!==-1)return e._index;throw new Error(`invalid segment:${JSON.stringify(e)}`)})}function Is(t){return(typeof t=="string"?Yt(t):t).map(e=>{if(typeof e=="string"||typeof e=="number")return e;if(Array.isArray(e))throw new Error(`IndexTuple segments aren't supported:${JSON.stringify(e)}`);if(xs(e))return e;if(e._key)return{_key:e._key,_index:-1};throw new Error(`invalid segment:${JSON.stringify(e)}`)})}function xs(t){return typeof t=="object"&&"_key"in t&&"_index"in t}function Ps(t){return t.map(e=>{if(typeof e=="string"||typeof e=="number")return e;if(e._index!==-1)return e._index;throw new Error(`invalid segment:${JSON.stringify(e)}`)})}function js(t,e){if(!(e!=null&&e.mappings))return;const r=Os(Ps(t));if(e.mappings[r]!==void 0)return{mapping:e.mappings[r],matchedPath:r,pathSuffix:""};const n=Object.entries(e.mappings).filter(([a])=>r.startsWith(a)).sort(([a],[c])=>c.length-a.length);if(n.length==0)return;const[s,i]=n[0],o=r.substring(s.length);return{mapping:i,matchedPath:s,pathSuffix:o}}function Ja(t){const{baseUrl:e}=t;throw e?new Error("path is required"):new Error("baseUrl is required")}function Ms(t){const{resultSourceMap:e,resultPath:r}=t,{mapping:n,pathSuffix:s}=js(r,e)||{};if(!n||n.source.type==="literal"||n.source.type==="unknown")return;const i=e.documents[n.source.document],o=e.paths[n.source.path];if(i&&o){const{baseUrl:a,workspace:c,tool:l}=ks(typeof t.studioUrl=="function"?t.studioUrl(i):t.studioUrl);if(!a)return;const{_id:u,_type:p,_projectId:m,_dataset:y}=i;return{baseUrl:a,workspace:c,tool:l,id:u,type:p,path:Rs(o+s),projectId:m,dataset:y}}}function ks(t){let e=typeof t=="string"?t:t.baseUrl;return e!=="/"&&(e=e.replace(/\/$/,"")),typeof t=="string"?{baseUrl:e}:{...t,baseUrl:e}}var Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ls(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dt=function(t,e){return Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Dt(t,e)};function Wt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Dt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Fs(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(p){o(p)}}function c(u){try{l(n.throw(u))}catch(p){o(p)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function en(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Fe(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Ee(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Ce(t){return this instanceof Ce?(this.v=t,this):new Ce(t)}function qs(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(y){return function(d){return Promise.resolve(d).then(y,p)}}function a(y,d){n[y]&&(s[y]=function(g){return new Promise(function(v,f){i.push([y,g,v,f])>1||c(y,g)})},d&&(s[y]=d(s[y])))}function c(y,d){try{l(n[y](d))}catch(g){m(i[0][3],g)}}function l(y){y.value instanceof Ce?Promise.resolve(y.value.v).then(u,p):m(i[0][2],y)}function u(y){c("next",y)}function p(y){c("throw",y)}function m(y,d){y(d),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ds(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Fe=="function"?Fe(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function H(t){return typeof t=="function"}function tn(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var wt=tn(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function br(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Xt=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,s,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Fe(o),c=a.next();!c.done;c=a.next()){var l=c.value;l.remove(this)}}catch(g){e={error:g}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(H(u))try{u()}catch(g){i=g instanceof wt?g.errors:[g]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var m=Fe(p),y=m.next();!y.done;y=m.next()){var d=y.value;try{wr(d)}catch(g){i=i??[],g instanceof wt?i=Ee(Ee([],ve(i)),ve(g.errors)):i.push(g)}}}catch(g){n={error:g}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(n)throw n.error}}}if(i)throw new wt(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)wr(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&br(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&br(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Ya=Xt.EMPTY;function rn(t){return t instanceof Xt||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function wr(t){H(t)?t():t.unsubscribe()}var nn={Promise:void 0,useDeprecatedNextContext:!1},Us={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,Ee([t,e],ve(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function sn(t){Us.setTimeout(function(){throw t})}function vr(){}function Ns(t){t()}var Zt=function(t){Wt(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,rn(r)&&r.add(n)):n.destination=Vs,n}return e.create=function(r,n,s){return new Ut(r,n,s)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Xt),zs=Function.prototype.bind;function vt(t,e){return zs.call(t,e)}var Ks=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){rt(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){rt(n)}else rt(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){rt(r)}},t}(),Ut=function(t){Wt(e,t);function e(r,n,s){var i=t.call(this)||this,o;if(H(r)||!r)o={next:r??void 0,error:n??void 0,complete:s??void 0};else{var a;i&&nn.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return i.unsubscribe()},o={next:r.next&&vt(r.next,a),error:r.error&&vt(r.error,a),complete:r.complete&&vt(r.complete,a)}):o=r}return i.destination=new Ks(o),i}return e}(Zt);function rt(t){sn(t)}function Bs(t){throw t}var Vs={closed:!0,next:vr,error:Bs,complete:vr},er=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function on(t){return t}function Hs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return an(t)}function an(t){return t.length===0?on:t.length===1?t[0]:function(r){return t.reduce(function(n,s){return s(n)},r)}}var X=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var s=this,i=Gs(e)?e:new Ut(e,r,n);return Ns(function(){var o=s,a=o.operator,c=o.source;i.add(a?a.call(i,c):c?s._subscribe(i):s._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Er(r),new r(function(s,i){var o=new Ut({next:function(a){try{e(a)}catch(c){i(c),o.unsubscribe()}},error:i,complete:s});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[er]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return an(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Er(e),new e(function(n,s){var i;r.subscribe(function(o){return i=o},function(o){return s(o)},function(){return n(i)})})},t.create=function(e){return new t(e)},t}();function Er(t){var e;return(e=t??nn.Promise)!==null&&e!==void 0?e:Promise}function Js(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function Gs(t){return t&&t instanceof Zt||Js(t)&&rn(t)}function Ys(t){return H(t==null?void 0:t.lift)}function We(t){return function(e){if(Ys(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,e,r,n,s){return new Qs(t,e,r,n,s)}var Qs=function(t){Wt(e,t);function e(r,n,s,i,o,a){var c=t.call(this,r)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=n?function(l){try{n(l)}catch(u){r.error(u)}}:t.prototype._next,c._error=i?function(l){try{i(l)}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=s?function(){try{s()}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(Zt);function Ws(t){return t&&H(t.schedule)}function tr(t){return t[t.length-1]}function Xs(t){return H(tr(t))?t.pop():void 0}function Qa(t){return Ws(tr(t))?t.pop():void 0}function Wa(t,e){return typeof tr(t)=="number"?t.pop():e}var un=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function cn(t){return H(t==null?void 0:t.then)}function ln(t){return H(t[er])}function fn(t){return Symbol.asyncIterator&&H(t==null?void 0:t[Symbol.asyncIterator])}function hn(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Zs(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dn=Zs();function pn(t){return H(t==null?void 0:t[dn])}function yn(t){return qs(this,arguments,function(){var r,n,s,i;return en(this,function(o){switch(o.label){case 0:r=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Ce(r.read())];case 3:return n=o.sent(),s=n.value,i=n.done,i?[4,Ce(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Ce(s)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function gn(t){return H(t==null?void 0:t.getReader)}function rr(t){if(t instanceof X)return t;if(t!=null){if(ln(t))return ei(t);if(un(t))return ti(t);if(cn(t))return ri(t);if(fn(t))return mn(t);if(pn(t))return ni(t);if(gn(t))return si(t)}throw hn(t)}function ei(t){return new X(function(e){var r=t[er]();if(H(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ti(t){return new X(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function ri(t){return new X(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,sn)})}function ni(t){return new X(function(e){var r,n;try{for(var s=Fe(t),i=s.next();!i.done;i=s.next()){var o=i.value;if(e.next(o),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}e.complete()})}function mn(t){return new X(function(e){ii(t,e).catch(function(r){return e.error(r)})})}function si(t){return mn(yn(t))}function ii(t,e){var r,n,s,i;return Fs(this,void 0,void 0,function(){var o,a;return en(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=Ds(t),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),s={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function me(t,e,r,n,s){n===void 0&&(n=0),s===void 0&&(s=!1);var i=e.schedule(function(){r(),s?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(i),!s)return i}function bn(t,e){return e===void 0&&(e=0),We(function(r,n){r.subscribe(pt(n,function(s){return me(n,t,function(){return n.next(s)},e)},function(){return me(n,t,function(){return n.complete()},e)},function(s){return me(n,t,function(){return n.error(s)},e)}))})}function wn(t,e){return e===void 0&&(e=0),We(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function oi(t,e){return rr(t).pipe(wn(e),bn(e))}function ai(t,e){return rr(t).pipe(wn(e),bn(e))}function ui(t,e){return new X(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function ci(t,e){return new X(function(r){var n;return me(r,e,function(){n=t[dn](),me(r,e,function(){var s,i,o;try{s=n.next(),i=s.value,o=s.done}catch(a){r.error(a);return}o?r.complete():r.next(i)},0,!0)}),function(){return H(n==null?void 0:n.return)&&n.return()}})}function vn(t,e){if(!t)throw new Error("Iterable cannot be null");return new X(function(r){me(r,e,function(){var n=t[Symbol.asyncIterator]();me(r,e,function(){n.next().then(function(s){s.done?r.complete():r.next(s.value)})},0,!0)})})}function li(t,e){return vn(yn(t),e)}function fi(t,e){if(t!=null){if(ln(t))return oi(t,e);if(un(t))return ui(t,e);if(cn(t))return ai(t,e);if(fn(t))return vn(t,e);if(pn(t))return ci(t,e);if(gn(t))return li(t,e)}throw hn(t)}function En(t,e){return e?fi(t,e):rr(t)}var hi=tn(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function V(t,e){return new Promise(function(r,n){var s=!1,i;t.subscribe({next:function(o){i=o,s=!0},error:n,complete:function(){s?r(i):n(new hi)}})})}function ae(t,e){return We(function(r,n){var s=0;r.subscribe(pt(n,function(i){n.next(t.call(e,i,s++))}))})}var di=Array.isArray;function pi(t,e){return di(e)?t.apply(void 0,Ee([],ve(e))):t(e)}function yi(t){return ae(function(e){return pi(t,e)})}function gi(t,e,r){return r===void 0&&(r=on),function(n){Sr(e,function(){for(var s=t.length,i=new Array(s),o=s,a=s,c=function(u){Sr(e,function(){var p=En(t[u],e),m=!1;p.subscribe(pt(n,function(y){i[u]=y,m||(m=!0,a--),a||n.next(r(i.slice()))},function(){--o||n.complete()}))},n)},l=0;l<s;l++)c(l)})}}function Sr(t,e,r){e()}var mi=Array.isArray;function bi(t){return t.length===1&&mi(t[0])?t[0]:t}function Xe(t,e){return We(function(r,n){var s=0;r.subscribe(pt(n,function(i){return t.call(e,i,s++)&&n.next(i)}))})}function Sn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Xs(t);return r?Hs(Sn.apply(void 0,Ee([],ve(t))),yi(r)):We(function(n,s){gi(Ee([n],ve(bi(t))))(s)})}function wi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Sn.apply(void 0,Ee([],ve(t)))}var Et={},St,Ar;function vi(){if(Ar)return St;Ar=1;const t=Symbol("values"),e=Symbol("kStorage"),r=Symbol("kStorages"),n=Symbol("kTransformer"),s=Symbol("kTTL"),i=Symbol("kOnDedupe"),o=Symbol("kOnError"),a=Symbol("kOnHit"),c=Symbol("kOnMiss"),l=Symbol("kStale");return St={kValues:t,kStorage:e,kStorages:r,kTransfromer:n,kTTL:s,kOnDedupe:i,kOnError:o,kOnHit:a,kOnMiss:c,kStale:l},St}var At={exports:{}},Cr;function An(){return Cr||(Cr=1,function(t,e){const{hasOwnProperty:r}=Object.prototype,n=v();n.configure=v,n.stringify=n,n.default=n,e.stringify=n,e.configure=v,t.exports=n;const s=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function i(f){return f.length<5e3&&!s.test(f)?`"${f}"`:JSON.stringify(f)}function o(f){if(f.length>200)return f.sort();for(let h=1;h<f.length;h++){const b=f[h];let S=h;for(;S!==0&&f[S-1]>b;)f[S]=f[S-1],S--;f[S]=b}return f}const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function c(f){return a.call(f)!==void 0&&f.length!==0}function l(f,h,b){f.length<b&&(b=f.length);const S=h===","?"":" ";let _=`"0":${S}${f[0]}`;for(let R=1;R<b;R++)_+=`${h}"${R}":${S}${f[R]}`;return _}function u(f){if(r.call(f,"circularValue")){const h=f.circularValue;if(typeof h=="string")return`"${h}"`;if(h==null)return h;if(h===Error||h===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function p(f,h){let b;if(r.call(f,h)&&(b=f[h],typeof b!="boolean"))throw new TypeError(`The "${h}" argument must be of type boolean`);return b===void 0?!0:b}function m(f,h){let b;if(r.call(f,h)){if(b=f[h],typeof b!="number")throw new TypeError(`The "${h}" argument must be of type number`);if(!Number.isInteger(b))throw new TypeError(`The "${h}" argument must be an integer`);if(b<1)throw new RangeError(`The "${h}" argument must be >= 1`)}return b===void 0?1/0:b}function y(f){return f===1?"1 item":`${f} items`}function d(f){const h=new Set;for(const b of f)(typeof b=="string"||typeof b=="number")&&h.add(String(b));return h}function g(f){if(r.call(f,"strict")){const h=f.strict;if(typeof h!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(h)return b=>{let S=`Object can not safely be stringified. Received type ${typeof b}`;throw typeof b!="function"&&(S+=` (${b.toString()})`),new Error(S)}}}function v(f){f={...f};const h=g(f);h&&(f.bigint===void 0&&(f.bigint=!1),"circularValue"in f||(f.circularValue=Error));const b=u(f),S=p(f,"bigint"),_=p(f,"deterministic"),R=m(f,"maximumDepth"),C=m(f,"maximumBreadth");function I(j,w,A,T,$,P){let O=w[j];switch(typeof O=="object"&&O!==null&&typeof O.toJSON=="function"&&(O=O.toJSON(j)),O=T.call(w,j,O),typeof O){case"string":return i(O);case"object":{if(O===null)return"null";if(A.indexOf(O)!==-1)return b;let L="",U=",";const N=P;if(Array.isArray(O)){if(O.length===0)return"[]";if(R<A.length+1)return'"[Array]"';A.push(O),$!==""&&(P+=$,L+=`
${P}`,U=`,
${P}`);const Z=Math.min(O.length,C);let re=0;for(;re<Z-1;re++){const tt=I(String(re),O,A,T,$,P);L+=tt!==void 0?tt:"null",L+=U}const ne=I(String(re),O,A,T,$,P);if(L+=ne!==void 0?ne:"null",O.length-1>C){const tt=O.length-C-1;L+=`${U}"... ${y(tt)} not stringified"`}return $!==""&&(L+=`
${N}`),A.pop(),`[${L}]`}let z=Object.keys(O);const G=z.length;if(G===0)return"{}";if(R<A.length+1)return'"[Object]"';let D="",W="";$!==""&&(P+=$,U=`,
${P}`,D=" ");const ee=Math.min(G,C);_&&!c(O)&&(z=o(z)),A.push(O);for(let Z=0;Z<ee;Z++){const re=z[Z],ne=I(re,O,A,T,$,P);ne!==void 0&&(L+=`${W}${i(re)}:${D}${ne}`,W=U)}if(G>C){const Z=G-C;L+=`${W}"...":${D}"${y(Z)} not stringified"`,W=U}return $!==""&&W.length>1&&(L=`
${P}${L}
${N}`),A.pop(),`{${L}}`}case"number":return isFinite(O)?String(O):h?h(O):"null";case"boolean":return O===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(O);default:return h?h(O):void 0}}function F(j,w,A,T,$,P){switch(typeof w=="object"&&w!==null&&typeof w.toJSON=="function"&&(w=w.toJSON(j)),typeof w){case"string":return i(w);case"object":{if(w===null)return"null";if(A.indexOf(w)!==-1)return b;const O=P;let L="",U=",";if(Array.isArray(w)){if(w.length===0)return"[]";if(R<A.length+1)return'"[Array]"';A.push(w),$!==""&&(P+=$,L+=`
${P}`,U=`,
${P}`);const G=Math.min(w.length,C);let D=0;for(;D<G-1;D++){const ee=F(String(D),w[D],A,T,$,P);L+=ee!==void 0?ee:"null",L+=U}const W=F(String(D),w[D],A,T,$,P);if(L+=W!==void 0?W:"null",w.length-1>C){const ee=w.length-C-1;L+=`${U}"... ${y(ee)} not stringified"`}return $!==""&&(L+=`
${O}`),A.pop(),`[${L}]`}A.push(w);let N="";$!==""&&(P+=$,U=`,
${P}`,N=" ");let z="";for(const G of T){const D=F(G,w[G],A,T,$,P);D!==void 0&&(L+=`${z}${i(G)}:${N}${D}`,z=U)}return $!==""&&z.length>1&&(L=`
${P}${L}
${O}`),A.pop(),`{${L}}`}case"number":return isFinite(w)?String(w):h?h(w):"null";case"boolean":return w===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(w);default:return h?h(w):void 0}}function q(j,w,A,T,$){switch(typeof w){case"string":return i(w);case"object":{if(w===null)return"null";if(typeof w.toJSON=="function"){if(w=w.toJSON(j),typeof w!="object")return q(j,w,A,T,$);if(w===null)return"null"}if(A.indexOf(w)!==-1)return b;const P=$;if(Array.isArray(w)){if(w.length===0)return"[]";if(R<A.length+1)return'"[Array]"';A.push(w),$+=T;let D=`
${$}`;const W=`,
${$}`,ee=Math.min(w.length,C);let Z=0;for(;Z<ee-1;Z++){const ne=q(String(Z),w[Z],A,T,$);D+=ne!==void 0?ne:"null",D+=W}const re=q(String(Z),w[Z],A,T,$);if(D+=re!==void 0?re:"null",w.length-1>C){const ne=w.length-C-1;D+=`${W}"... ${y(ne)} not stringified"`}return D+=`
${P}`,A.pop(),`[${D}]`}let O=Object.keys(w);const L=O.length;if(L===0)return"{}";if(R<A.length+1)return'"[Object]"';$+=T;const U=`,
${$}`;let N="",z="",G=Math.min(L,C);c(w)&&(N+=l(w,U,C),O=O.slice(w.length),G-=w.length,z=U),_&&(O=o(O)),A.push(w);for(let D=0;D<G;D++){const W=O[D],ee=q(W,w[W],A,T,$);ee!==void 0&&(N+=`${z}${i(W)}: ${ee}`,z=U)}if(L>C){const D=L-C;N+=`${z}"...": "${y(D)} not stringified"`,z=U}return z!==""&&(N=`
${$}${N}
${P}`),A.pop(),`{${N}}`}case"number":return isFinite(w)?String(w):h?h(w):"null";case"boolean":return w===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(w);default:return h?h(w):void 0}}function J(j,w,A){switch(typeof w){case"string":return i(w);case"object":{if(w===null)return"null";if(typeof w.toJSON=="function"){if(w=w.toJSON(j),typeof w!="object")return J(j,w,A);if(w===null)return"null"}if(A.indexOf(w)!==-1)return b;let T="";if(Array.isArray(w)){if(w.length===0)return"[]";if(R<A.length+1)return'"[Array]"';A.push(w);const U=Math.min(w.length,C);let N=0;for(;N<U-1;N++){const G=J(String(N),w[N],A);T+=G!==void 0?G:"null",T+=","}const z=J(String(N),w[N],A);if(T+=z!==void 0?z:"null",w.length-1>C){const G=w.length-C-1;T+=`,"... ${y(G)} not stringified"`}return A.pop(),`[${T}]`}let $=Object.keys(w);const P=$.length;if(P===0)return"{}";if(R<A.length+1)return'"[Object]"';let O="",L=Math.min(P,C);c(w)&&(T+=l(w,",",C),$=$.slice(w.length),L-=w.length,O=","),_&&($=o($)),A.push(w);for(let U=0;U<L;U++){const N=$[U],z=J(N,w[N],A);z!==void 0&&(T+=`${O}${i(N)}:${z}`,O=",")}if(P>C){const U=P-C;T+=`${O}"...":"${y(U)} not stringified"`}return A.pop(),`{${T}}`}case"number":return isFinite(w)?String(w):h?h(w):"null";case"boolean":return w===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(w);default:return h?h(w):void 0}}function Y(j,w,A){if(arguments.length>1){let T="";if(typeof A=="number"?T=" ".repeat(Math.min(A,10)):typeof A=="string"&&(T=A.slice(0,10)),w!=null){if(typeof w=="function")return I("",{"":j},[],w,T,"");if(Array.isArray(w))return F("",j,[],d(w),T,"")}if(T.length!==0)return q("",j,[],T,"")}return J("",j,[])}return Y}}(At,At.exports)),At.exports}var Ct,Tr;function it(){if(Tr)return Ct;Tr=1;function t(c,l){const u=[];let p=0;for(let m=0;m<c.length;m++)for(let y=p;y<l.length;y++)c[m]===l[y]&&(u.push(y),p=y+1);return u}function e(c,l){const u=[];let p=0;for(let m=0;m<c.length;m++)for(let y=p;y<l.length;y++)c[m]!==l[y]&&(u.push(l[y]),p=y+1);return u}function r(c,l){let u=0,p=c.length-1;for(;u<=p;){const m=(u+p)/2|0;if(c[m]===l)return m;c[m]<l?u=m+1:p=m-1}return-1}function n(c){return c*Math.random()|0}function s(c,l){return c=Math.floor(c),l=Math.floor(l),c+n(1+l-c)}function i(c,l){if(c.length<1||l<1)return[];const u=Math.min(c.length,l),p=s(1,u),m=new Set;for(let d=0;d<p;d++)m.add(n(c.length));const y=[];for(const d of m)y.push(c[d]);return y}function o(c,l){if(c==="*"||c.length===l.length&&c===l)return!0;let u=0,p=0;for(;u<c.length&&p<l.length;){if(c[u]===l[p]){u++,p++;continue}if(c[u]==="*"){if(c[u+1]===l[p]){u++;continue}p++;continue}return!1}return u>=c.length-1}function a(){const c=()=>{};return{fatal:c,error:c,warn:c,info:c,debug:c,trace:c}}return Ct={findNotMatching:e,findMatchingIndexes:t,bsearchIndex:r,wildcardMatch:o,randomSubset:i,abstractLogging:a,isServerSide:typeof window>"u"},Ct}var Tt,_r;function Cn(){if(_r)return Tt;_r=1;class t{constructor(r){this.options=r}async get(r){throw new Error("storage get method not implemented")}async set(r,n,s,i){throw new Error("storage set method not implemented")}async remove(r){throw new Error("storage remove method not implemented")}async invalidate(r){throw new Error("storage invalidate method not implemented")}async clear(r){throw new Error("storage clear method not implemented")}async refresh(){throw new Error("storage refresh method not implemented")}}return Tt=t,Tt}var _t,Or;function Ei(){if(Or)return _t;Or=1;const t=An(),e=Cn(),{findNotMatching:r,randomSubset:n,abstractLogging:s}=it(),i=64,o=64,a=60;class c extends e{constructor(u={}){if(!u.client||typeof u.client!="object")throw new Error("Redis client is required");if(super(u),u.invalidation&&u.invalidation.referencesTTL&&(typeof u.invalidation.referencesTTL!="number"||u.invalidation.referencesTTL<1))throw new Error("invalidation.referencesTTL must be a positive integer greater than 1");this.log=u.log||s(),this.store=u.client,this.invalidation=!!u.invalidation,this.referencesTTL=u.invalidation&&u.invalidation.referencesTTL||a}getReferenceKeyLabel(u){return`r:${u}`}getKeyReferenceLabel(u){return`k:${u}`}async get(u){this.log.debug({msg:"acd/storage/redis.get",key:u});try{const p=await this.store.get(u);if(!p){if(!this.invalidation)return;this.clearReferences(u);return}return JSON.parse(p)}catch(p){this.log.error({msg:"acd/storage/redis.get error",err:p,key:u})}}async getTTL(u){this.log.debug({msg:"acd/storage/memory.getTTL",key:u});let p=await this.store.pttl(u);return p<0?0:(p=Math.ceil(p/1e3),p)}async set(u,p,m,y){if(this.log.debug({msg:"acd/storage/redis.set key",key:u,value:p,ttl:m,references:y}),m=Number(m),!(!m||m<0))try{if(await this.store.set(u,t(p),"EX",m),!y||y.length<1)return;if(!this.invalidation){this.log.warn({msg:"acd/storage/redis.set, invalidation is disabled, references are useless",key:u,references:y});return}const d=[],g=await this.store.smembers(this.getKeyReferenceLabel(u));if(this.log.debug({msg:"acd/storage/redis.set current references",key:u,currentReferences:g}),g.length>1){g.sort(),y.sort();const h=r(y,g);for(const b of h)d.push(["srem",this.getReferenceKeyLabel(b),u]);d.push(["del",this.getKeyReferenceLabel(u)])}const v=g.length>1?r(g,y):y;this.log.debug({msg:"acd/storage/redis.set references to add",key:u,referencesToAdd:v});for(let h=0;h<v.length;h++){const b=v[h],S=this.getReferenceKeyLabel(b);d.push(["sadd",S,u]),d.push(["expire",S,this.referencesTTL])}const f=this.getKeyReferenceLabel(u);d.push(["sadd",f,y]),d.push(["expire",f,m]),this.log.debug({msg:"acd/storage/redis.set references writes",writes:d}),await this.store.pipeline(d).exec()}catch(d){this.log.error({msg:"acd/storage/redis.set error",err:d,key:u,ttl:m,references:y})}}async remove(u){this.log.debug({msg:"acd/storage/redis.remove",key:u});try{const p=await this.store.del(u)>0;return p&&this.invalidation&&await this.clearReferences(u),p}catch(p){this.log.error({msg:"acd/storage/redis.remove error",err:p,key:u})}}async invalidate(u){if(!this.invalidation)return this.log.warn({msg:"acd/storage/redis.invalidate, exit due invalidation is disabled"}),[];this.log.debug({msg:"acd/storage/redis.invalidate",references:u});try{return Array.isArray(u)?await this._invalidateReferences(u):await this._invalidateReference(u)}catch(p){return this.log.error({msg:"acd/storage/redis.invalidate error",err:p,references:u}),[]}}async _invalidateReferences(u,p=!0){const m=u.map(v=>["smembers",p?this.getReferenceKeyLabel(v):v]),y=await this.store.pipeline(m).exec();this.log.debug({msg:"acd/storage/redis._invalidateReferences keys",keys:y});const d=[],g=[];for(let v=0;v<y.length;v++){const f=y[v][1];if(f){this.log.debug({msg:"acd/storage/redis._invalidateReferences got keys to be invalidated",keys:f});for(let h=0;h<f.length;h++){const b=f[h];this.log.debug({msg:"acd/storage/redis._invalidateReferences del key"+b}),g.push(b),d.push(["del",b])}}}return await this.store.pipeline(d).exec(),await this.clearReferences(g),g}async _invalidateReference(u){let p;if(u.includes("*")){const d=await this.store.keys(this.getReferenceKeyLabel(u));return this._invalidateReferences(d,!1)}else p=await this.store.smembers(this.getReferenceKeyLabel(u));this.log.debug({msg:"acd/storage/redis._invalidateReference keys",keys:p});const m=[],y=[];for(let d=0;d<p.length;d++){const g=p[d];this.log.debug({msg:"acd/storage/redis._invalidateReference del key"+g}),y.push(g),m.push(["del",g])}return await this.store.pipeline(m).exec(),await this.clearReferences(y),y}async clear(u){this.log.debug({msg:"acd/storage/redis.clear",name:u});try{if(!u){await this.store.flushall();return}const p=await this.store.keys(`${u}*`);this.log.debug({msg:"acd/storage/redis.clear keys",keys:p});const m=p.map(y=>["del",y]);if(await this.store.pipeline(m).exec(),!this.invalidation)return;await this.clearReferences(p)}catch(p){this.log.error({msg:"acd/storage/redis.clear error",err:p,name:u})}}async refresh(){try{await this.store.flushall()}catch(u){this.log.error({msg:"acd/storage/redis.refresh error",err:u})}}async clearReferences(u){try{if(!u){this.log.warn({msg:"acd/storage/redis.clearReferences invalid call due to empty key"});return}Array.isArray(u)||(u=[u]);const p=u.map(d=>["smembers",this.getKeyReferenceLabel(d)]),m=await this.store.pipeline(p).exec();this.log.debug({msg:"acd/storage/redis.clearReferences references",keys:u,referencesKeys:m});const y={};for(let d=0;d<u.length;d++){for(let v=0;v<m[d][1].length;v++){const f=this.getReferenceKeyLabel(m[d][1][v]);y[f]||(y[f]=["srem",f,u])}const g=this.getKeyReferenceLabel(u[d]);y[g]=["del",g]}this.log.debug({msg:"acd/storage/redis.clearReferences writes pipeline",writes:y}),await this.store.pipeline(Object.values(y)).exec()}catch(p){this.log.error({msg:"acd/storage/redis.clearReferences error",err:p})}}async gc(u="lazy",p={}){if(this.log.debug({msg:"acd/storage/redis.gc",mode:u,options:p}),!this.invalidation){this.log.warn({msg:"acd/storage/redis.gc does not run due to invalidation is disabled"});return}u!=="strict"&&u!=="lazy"&&(u="lazy");const m={references:{scanned:[],removed:[]},keys:{scanned:new Set,removed:new Set},loops:0,cursor:0,error:null};try{let y=0,d=o;if(p.chunk&&(typeof p.chunk!="number"||p.chunk<1))return m.error=new Error("chunk must be a positive integer greater than 1"),m;if(p.lazy){if(p.lazy.chunk){if(typeof p.lazy.chunk!="number"||p.lazy.chunk<1)return m.error=new Error("lazy.chunk must be a positive integer greater than 1"),m;d=p.lazy.chunk}if(p.lazy.cursor){if(typeof p.lazy.cursor!="number"||p.lazy.cursor<0)return m.error=new Error("lazy.cursor must be a positive integer greater than 0"),m;y=p.lazy.cursor}}const g=p.chunk||i,v=Math.min(d,g),f=y;let h=-1,b=-1;do{m.loops++;const S=await this.store.scan(y,"match","r:*","count",v);y=Number(S[0]),h=S[1].length;const _=u==="lazy"?n(S[1],d):S[1];m.references.scanned=m.references.scanned.concat(_);let R=[];for(let A=0;A<_.length;A++){const T=_[A];R.push(["smembers",T])}const C=await this.store.pipeline(R).exec(),I={},F={};for(let A=0;A<C.length;A++){const T=C[A],$=_[A];F[$]=T[1];for(let P=0;P<T[1].length;P++){const O=T[1][P];I[O]?I[O].push($):I[O]=[$],m.keys.scanned.add(O)}}const q=Object.keys(I);R=q.map(A=>["exists",A]);const J=await this.store.pipeline(R).exec(),Y={};for(let A=0;A<q.length;A++){const T=q[A];if(J[A][1]!==1)for(let $=0;$<I[T].length;$++){const P=I[T][$];Y[P]?Y[P].push(T):Y[P]=[T],m.keys.removed.add(T)}}const j=Object.keys(Y),w=[];for(let A=0;A<j.length;A++){const T=j[A];F[T].length===Y[T].length?(w.push(["del",T]),m.references.removed.push(T)):w.push(["srem",T,Y[T]])}if(await this.store.pipeline(w).exec(),b=w.length,u==="lazy"&&m.references.scanned.length>=d)break}while(f!==y&&h>0&&b>0);m.cursor=y,m.keys.scanned=Array.from(m.keys.scanned),m.keys.removed=Array.from(m.keys.removed)}catch(y){this.log.error({msg:"acd/storage/redis.gc error",err:y}),m.error=y}return m}}return _t=c,_t}var Ot,Rr;function Si(){if(Rr)return Ot;Rr=1;function t(e){if(typeof e!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=e}return typeof Symbol<"u"&&(t.prototype[Symbol.iterator]=function(){return this}),t.of=function(){var e=arguments,r=e.length,n=0;return new t(function(){return n>=r?{done:!0}:{done:!1,value:e[n++]}})},t.empty=function(){var e=new t(function(){return{done:!0}});return e},t.fromSequence=function(e){var r=0,n=e.length;return new t(function(){return r>=n?{done:!0}:{done:!1,value:e[r++]}})},t.is=function(e){return e instanceof t?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"},Ot=t,Ot}var Rt={},$r;function Ai(){return $r||($r=1,Rt.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",Rt.SYMBOL_SUPPORT=typeof Symbol<"u"),Rt}var $t,Ir;function Tn(){if(Ir)return $t;Ir=1;var t=Ai(),e=t.ARRAY_BUFFER_SUPPORT,r=t.SYMBOL_SUPPORT;return $t=function(n,s){var i,o,a,c,l;if(!n)throw new Error("obliterator/forEach: invalid iterable.");if(typeof s!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(n)||e&&ArrayBuffer.isView(n)||typeof n=="string"||n.toString()==="[object Arguments]"){for(a=0,c=n.length;a<c;a++)s(n[a],a);return}if(typeof n.forEach=="function"){n.forEach(s);return}if(r&&Symbol.iterator in n&&typeof n.next!="function"&&(n=n[Symbol.iterator]()),typeof n.next=="function"){for(i=n,a=0;l=i.next(),l.done!==!0;)s(l.value,a),a++;return}for(o in n)n.hasOwnProperty(o)&&s(n[o],o)},$t}var xr={},Pr;function _n(){return Pr||(Pr=1,function(t){var e=Math.pow(2,8)-1,r=Math.pow(2,16)-1,n=Math.pow(2,32)-1,s=Math.pow(2,7)-1,i=Math.pow(2,15)-1,o=Math.pow(2,31)-1;t.getPointerArray=function(c){var l=c-1;if(l<=e)return Uint8Array;if(l<=r)return Uint16Array;if(l<=n)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},t.getSignedPointerArray=function(c){var l=c-1;return l<=s?Int8Array:l<=i?Int16Array:l<=o?Int32Array:Float64Array},t.getNumberType=function(c){return c===(c|0)?Math.sign(c)===-1?c<=127&&c>=-128?Int8Array:c<=32767&&c>=-32768?Int16Array:Int32Array:c<=255?Uint8Array:c<=65535?Uint16Array:Uint32Array:Float64Array};var a={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(c,l){var u=null,p=0,m,y,d,g,v;for(g=0,v=c.length;g<v;g++)d=l?l(c[g]):c[g],y=t.getNumberType(d),m=a[y.name],m>p&&(p=m,u=y);return u},t.isTypedArray=function(c){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(c)},t.concat=function(){var c=0,l,u,p;for(l=0,p=arguments.length;l<p;l++)c+=arguments[l].length;var m=new arguments[0].constructor(c);for(l=0,u=0;l<p;l++)m.set(arguments[l],u),u+=arguments[l].length;return m},t.indices=function(c){for(var l=t.getPointerArray(c),u=new l(c),p=0;p<c;p++)u[p]=p;return u}}(xr)),xr}var Ae={},jr;function Ci(){if(jr)return Ae;jr=1;var t=Tn(),e=_n();function r(o){return Array.isArray(o)||e.isTypedArray(o)}function n(o){if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size}function s(o){var a=n(o),c=typeof a=="number"?new Array(a):[],l=0;return t(o,function(u){c[l++]=u}),c}function i(o){var a=n(o),c=typeof a=="number"?e.getPointerArray(a):Array,l=typeof a=="number"?new Array(a):[],u=typeof a=="number"?new c(a):[],p=0;return t(o,function(m){l[p]=m,u[p]=p++}),[l,u]}return Ae.isArrayLike=r,Ae.guessLength=n,Ae.toArray=s,Ae.toArrayWithIndices=i,Ae}var It,Mr;function Ti(){if(Mr)return It;Mr=1;var t=Si(),e=Tn(),r=_n(),n=Ci();function s(i,o,a){if(arguments.length<2&&(a=i,i=null,o=null),this.capacity=a,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var c=r.getPointerArray(a);this.forward=new c(a),this.backward=new c(a),this.K=typeof i=="function"?new i(a):new Array(a),this.V=typeof o=="function"?new o(a):new Array(a),this.size=0,this.head=0,this.tail=0,this.items={}}return s.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},s.prototype.splayOnTop=function(i){var o=this.head;if(this.head===i)return this;var a=this.backward[i],c=this.forward[i];return this.tail===i?this.tail=a:this.backward[c]=a,this.forward[a]=c,this.backward[o]=i,this.head=i,this.forward[i]=o,this},s.prototype.set=function(i,o){var a=this.items[i];if(typeof a<"u"){this.splayOnTop(a),this.V[a]=o;return}this.size<this.capacity?a=this.size++:(a=this.tail,this.tail=this.backward[a],delete this.items[this.K[a]]),this.items[i]=a,this.K[a]=i,this.V[a]=o,this.forward[a]=this.head,this.backward[this.head]=a,this.head=a},s.prototype.setpop=function(i,o){var a=null,c=null,l=this.items[i];return typeof l<"u"?(this.splayOnTop(l),a=this.V[l],this.V[l]=o,{evicted:!1,key:i,value:a}):(this.size<this.capacity?l=this.size++:(l=this.tail,this.tail=this.backward[l],a=this.V[l],c=this.K[l],delete this.items[c]),this.items[i]=l,this.K[l]=i,this.V[l]=o,this.forward[l]=this.head,this.backward[this.head]=l,this.head=l,c?{evicted:!0,key:c,value:a}:null)},s.prototype.has=function(i){return i in this.items},s.prototype.get=function(i){var o=this.items[i];if(!(typeof o>"u"))return this.splayOnTop(o),this.V[o]},s.prototype.peek=function(i){var o=this.items[i];if(!(typeof o>"u"))return this.V[o]},s.prototype.forEach=function(i,o){o=arguments.length>1?o:this;for(var a=0,c=this.size,l=this.head,u=this.K,p=this.V,m=this.forward;a<c;)i.call(o,p[l],u[l],this),l=m[l],a++},s.prototype.keys=function(){var i=0,o=this.size,a=this.head,c=this.K,l=this.forward;return new t(function(){if(i>=o)return{done:!0};var u=c[a];return i++,i<o&&(a=l[a]),{done:!1,value:u}})},s.prototype.values=function(){var i=0,o=this.size,a=this.head,c=this.V,l=this.forward;return new t(function(){if(i>=o)return{done:!0};var u=c[a];return i++,i<o&&(a=l[a]),{done:!1,value:u}})},s.prototype.entries=function(){var i=0,o=this.size,a=this.head,c=this.K,l=this.V,u=this.forward;return new t(function(){if(i>=o)return{done:!0};var p=c[a],m=l[a];return i++,i<o&&(a=u[a]),{done:!1,value:[p,m]}})},typeof Symbol<"u"&&(s.prototype[Symbol.iterator]=s.prototype.entries),s.prototype.inspect=function(){for(var i=new Map,o=this.entries(),a;a=o.next(),!a.done;)i.set(a.value[0],a.value[1]);return Object.defineProperty(i,"constructor",{value:s,enumerable:!1}),i},typeof Symbol<"u"&&(s.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.prototype.inspect),s.from=function(i,o,a,c){if(arguments.length<2){if(c=n.guessLength(i),typeof c!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(c=o,o=null,a=null);var l=new s(o,a,c);return e(i,function(u,p){l.set(p,u)}),l},It=s,It}var xt,kr;function _i(){if(kr)return xt;kr=1;const t=Ti(),{abstractLogging:e}=it(),r=Cn(),{findMatchingIndexes:n,findNotMatching:s,bsearchIndex:i,wildcardMatch:o}=it(),a=typeof globalThis.setImmediate<"u"?globalThis.setImmediate:(y,...d)=>setTimeout(y,0,...d),c=1024;class l extends r{constructor(d={}){if(d.size&&(typeof d.size!="number"||d.size<1))throw new Error("size must be a positive integer greater than 0");super(d),this.size=d.size||c,this.log=d.log||e(),this.invalidation=d.invalidation||!1,this.init()}init(){this.store=new t(this.size),this.invalidation&&(this.keysReferences=new Map,this.referencesKeys=new Map)}get(d){this.log.debug({msg:"acd/storage/memory.get",key:d});const g=this.store.get(d);if(g){if(this.log.debug({msg:"acd/storage/memory.get, entry",entry:g,now:p()}),g.start+g.ttl>p())return this.log.debug({msg:"acd/storage/memory.get, key is NOT expired",key:d,entry:g}),g.value;this.log.debug({msg:"acd/storage/memory.get, key is EXPIRED",key:d,entry:g}),a(()=>this.remove(d))}}getTTL(d){this.log.debug({msg:"acd/storage/memory.getTTL",key:d});const g=this.store.peek(d);let v=0;return g&&(v=g.start+g.ttl-p(),v<0&&(v=0)),v}set(d,g,v,f){if(this.log.debug({msg:"acd/storage/memory.set",key:d,value:g,ttl:v,references:f}),v=Number(v),!v||v<0)return;const h=this.store.has(d),b=this.store.setpop(d,{value:g,ttl:v,start:p()});if(this.log.debug({msg:"acd/storage/memory.set, evicted",removed:b}),b&&b.evicted&&(this.log.debug({msg:"acd/storage/memory.set, remove evicted key",key:b.key}),this._removeReferences([b.key])),!f||f.length<1)return;if(!this.invalidation){this.log.warn({msg:"acd/storage/memory.set, invalidation is disabled, references are useless"});return}f=[...new Set(f)];let S;if(h&&(S=this.keysReferences.get(d),this.log.debug({msg:"acd/storage/memory.set, current keys-references",key:d,references:S}),S)){S.sort(),f.sort();const R=s(f,S);for(const C of R){const I=this.referencesKeys.get(C);if(!I)continue;const F=i(I,d);if(!(F<0)){if(I.splice(F,1),I.length<1){this.referencesKeys.delete(C);continue}this.referencesKeys.set(C,I)}}}const _=S?s(S,f):f;for(let R=0;R<_.length;R++){const C=_[R];let I=this.referencesKeys.get(C);I?(this.log.debug({msg:"acd/storage/memory.set, add reference-key",key:d,reference:C}),I.push(d)):I=[d],this.log.debug({msg:"acd/storage/memory.set, set reference-keys",keys:I,reference:C}),this.referencesKeys.set(C,I)}this.keysReferences.set(d,f)}remove(d){this.log.debug({msg:"acd/storage/memory.remove",key:d});const g=this._removeKey(d);return this._removeReferences([d]),g}_removeKey(d){return this.log.debug({msg:"acd/storage/memory._removeKey",key:d}),this.store.has(d)?(this.store.set(d,void 0),!0):!1}_removeReferences(d){if(!this.invalidation)return;this.log.debug({msg:"acd/storage/memory._removeReferences",keys:d});const g=new Set;for(let v=0;v<d.length;v++){const f=d[v],h=this.keysReferences.get(f);if(h){for(let b=0;b<h.length;b++)g.add(h[b]);this.log.debug({msg:"acd/storage/memory._removeReferences, delete key-references",key:f}),this.keysReferences.delete(f)}}this._removeReferencesKeys([...g],d)}_removeReferencesKeys(d,g){g.sort(),this.log.debug({msg:"acd/storage/memory._removeReferencesKeys",references:d,keys:g});for(let v=0;v<d.length;v++){const f=d[v],h=this.referencesKeys.get(f);if(this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, get reference-key",reference:f,keys:g,referencesKeys:h}),!h)continue;const b=n(g,h);if(this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, removing",reference:f,referencesToRemove:b,referencesKeys:h}),b.length===h.length){this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, delete",reference:f}),this.referencesKeys.delete(f);continue}for(let S=b.length-1;S>=0;S--)this.log.debug({msg:"acd/storage/memory._removeReferencesKeys, remove",reference:f,referencesKeys:h,at:b[S]}),h.splice(b[S],1)}}invalidate(d){return this.invalidation?(this.log.debug({msg:"acd/storage/memory.invalidate",references:d}),Array.isArray(d)?this._invalidateReferences(d):this._invalidateReference(d)):(this.log.warn({msg:"acd/storage/memory.invalidate, exit due invalidation is disabled"}),[])}_invalidateReferences(d){const g=[];for(let v=0;v<d.length;v++){const f=d[v],h=this.referencesKeys.get(f);if(this.log.debug({msg:"acd/storage/memory._invalidateReferences, remove keys on reference",reference:f,keys:h}),!!h){for(let b=0;b<h.length;b++){const S=h[b];this.log.debug({msg:"acd/storage/memory._invalidateReferences, remove key on reference",reference:f,key:S}),this._removeKey(S)&&g.push(S)}this.log.debug({msg:"acd/storage/memory._invalidateReferences, remove references of",reference:f,keys:h}),this._removeReferences([...h])}}return g}_invalidateReference(d){if(d.includes("*")){const f=[];for(const h of this.referencesKeys.keys())o(d,h)&&f.push(h);return this._invalidateReferences(f)}const g=this.referencesKeys.get(d),v=[];if(this.log.debug({msg:"acd/storage/memory._invalidateReference, remove keys on reference",reference:d,keys:g}),!g)return v;for(let f=0;f<g.length;f++){const h=g[f];this.log.debug({msg:"acd/storage/memory._invalidateReference, remove key on reference",reference:d,key:h}),this._removeKey(h)&&v.push(h)}return this.log.debug({msg:"acd/storage/memory._invalidateReference, remove references of",reference:d,keys:g}),this._removeReferences([...g]),v}clear(d){if(this.log.debug({msg:"acd/storage/memory.clear",name:d}),!d){if(this.store.clear(),!this.invalidation)return;this.referencesKeys.clear(),this.keysReferences.clear();return}const g=[];this.store.forEach((f,h)=>{this.log.debug({msg:"acd/storage/memory.clear, iterate key",key:h}),h.indexOf(d)===0&&(this.log.debug({msg:"acd/storage/memory.clear, remove key",key:h}),g.push(h))});const v=[];for(let f=0;f<g.length;f++)this._removeKey(g[f])&&v.push(g[f]);return this._removeReferences(v),v}refresh(){this.log.debug({msg:"acd/storage/memory.refresh"}),this.init()}}let u;function p(){if(u!==void 0)return u;u=Math.floor(Date.now()/1e3);const y=setTimeout(m,1e3);return typeof y.unref=="function"&&y.unref(),u}function m(){u=void 0}return xt=l,xt}var Pt,Lr;function On(){if(Lr)return Pt;Lr=1;const{isServerSide:t}=it();let e;t&&(e=Ei());const r=_i(),n={redis:"redis"};function s(i,o){if(!t&&i===n.redis)throw new Error("Redis storage is not supported in the browser");return i===n.redis?new e(o):new r(o)}return Pt=s,Pt}var Fr;function Oi(){if(Fr)return Et;Fr=1;const{kValues:t,kStorage:e,kStorages:r,kTransfromer:n,kTTL:s,kOnDedupe:i,kOnError:o,kOnHit:a,kOnMiss:c,kStale:l}=vi(),u=An(),p=On();class m{constructor(f={}){if(!f.storage)throw new Error("storage is required");if(f.ttl&&typeof f.ttl=="number"&&(f.ttl<0||!Number.isInteger(f.ttl)))throw new Error("ttl must be a positive integer greater than 0");if(f.onDedupe&&typeof f.onDedupe!="function")throw new Error("onDedupe must be a function");if(f.onError&&typeof f.onError!="function")throw new Error("onError must be a function");if(f.onHit&&typeof f.onHit!="function")throw new Error("onHit must be a function");if(f.onMiss&&typeof f.onMiss!="function")throw new Error("onMiss must be a function");if(typeof f.stale=="number"&&!(Math.floor(f.stale)===f.stale&&f.stale>=0))throw new Error("stale must be an integer greater or equal to 0");this[t]={},this[e]=f.storage,this[r]=new Map,this[r].set("_default",f.storage),this[n]=f.transformer,this[s]=f.ttl||0,this[i]=f.onDedupe||g,this[o]=f.onError||g,this[a]=f.onHit||g,this[c]=f.onMiss||g,this[l]=f.stale||0}define(f,h,b){if(typeof h=="function"&&(b=h,h={}),f&&this[f])throw new Error(`${f} is already defined in the cache or it is a forbidden name`);if(h=h||{},typeof b!="function")throw new TypeError(`Missing the function parameter for '${f}'`);const S=h.serialize;if(S&&typeof S!="function")throw new TypeError("serialize must be a function");const _=h.references;if(_&&typeof _!="function")throw new TypeError("references must be a function");if(typeof h.ttl!="function"&&h.ttl&&(typeof h.ttl!="number"||h.ttl<0||!Number.isInteger(h.ttl)))throw new Error("ttl must be a positive integer greater than 0");let R;h.storage?(R=p(h.storage.type,h.storage.options),this[r].set(f,R)):R=this[e];const C=h.ttl!==void 0?h.ttl:this[s],I=h.stale!==void 0?h.stale:this[l],F=h.onDedupe||this[i],q=h.onError||this[o],J=h.onHit||this[a],Y=h.onMiss||this[c],j=h.transformer||this[n],w=new y(b,f,S,_,R,j,C,F,q,J,Y,I);return this[t][f]=w,this[f]=w.add.bind(w),this}async clear(f,h){if(f){if(!this[t][f])throw new Error(`${f} is not defined in the cache`);await this[t][f].clear(h);return}const b=[];for(const S of Object.values(this[t]))b.push(S.clear());await Promise.all(b)}async get(f,h){if(!this[t][f])throw new Error(`${f} is not defined in the cache`);return this[t][f].get(h)}async set(f,h,b,S,_){if(!this[t][f])throw new Error(`${f} is not defined in the cache`);return this[t][f].set(h,b,S,_)}async invalidate(f,h){if(!this[t][f])throw new Error(`${f} is not defined in the cache`);return this[t][f].invalidate(h)}async invalidateAll(f,h="_default"){if(!this[r].has(h))throw new Error(`${h} storage is not defined in the cache`);await this[r].get(h).invalidate(f)}}class y{constructor(f,h,b,S,_,R,C,I,F,q,J,Y){this.dedupes=new Map,this.func=f,this.name=h,this.serialize=b,this.references=S,this.storage=_,this.transformer=R,this.ttl=C,this.onDedupe=I,this.onError=F,this.onHit=q,this.onMiss=J,this.stale=Y}getKey(f){const h=this.serialize?this.serialize(f):f;return typeof h=="string"?h:u(h)}getStorageKey(f){return`${this.name}~${f}`}getStorageName(){return`${this.name}~`}add(f){try{const h=this.getKey(f);let b=this.dedupes.get(h);return b?this.onDedupe(h):(b=new d,this.buildPromise(b,f,h),this.dedupes.set(h,b)),b.promise}catch(h){this.onError(h)}}async wrapFunction(f,h){const b=this.getStorageKey(h);if(this.ttl>0||typeof this.ttl=="function"){const S=await this.get(b);if(S!==void 0){this.onHit(h);const _=typeof this.stale=="function"?this.stale(S):this.stale;return _>0&&await this.storage.getTTL(b)<=_&&this._wrapFunction(b,f,h).catch(g),S}else this.onMiss(h)}return this._wrapFunction(b,f,h)}async _wrapFunction(f,h,b){const S=await this.func(h,b),_=typeof this.stale=="function"?this.stale(S):this.stale;let R=typeof this.ttl=="function"?this.ttl(S):this.ttl;if(R==null||typeof R!="number"||!Number.isInteger(R))return this.onError(new Error("ttl must be an integer")),S;if(R+=_,R<1)return S;if(!this.references)return await this.set(f,S,R),S;try{let C=this.references(h,b,S),I=S;C&&typeof C.then=="function"&&(C=await C),this.transformer&&(I=this.transformer.serialize(S)),await this.storage.set(f,I,R,C)}catch(C){this.onError(C)}return S}buildPromise(f,h,b){f.promise=this.wrapFunction(h,b),f.promise.then(S=>(this.dedupes.delete(b),S)).catch(S=>{this.onError(S),this.dedupes.delete(b);const _=this.storage.remove(this.getStorageKey(b));_&&typeof _.catch=="function"&&_.catch(g)})}async clear(f){if(f){const h=this.getKey(f);this.dedupes.delete(h),await this.storage.remove(this.getStorageKey(h));return}await this.storage.clear(this.getStorageName()),this.dedupes.clear()}async get(f){const h=await this.storage.get(f);return this.transformer&&h?await this.transformer.deserialize(h):h}async set(f,h,b,S){return this.transformer&&(h=this.transformer.serialize(h)),this.storage.set(f,h,b,S)}async invalidate(f){return this.storage.invalidate(f)}}class d{constructor(){this.promise=null}}function g(){}return Et.Cache=m,Et}var jt,qr;function Ri(){if(qr)return jt;qr=1;const{Cache:t}=Oi(),e=On();function r(n){n?n.storage||(n.storage={type:"memory"}):n={storage:{type:"memory"}};const s=e(n.storage.type,n.storage.options);return new t({...n,storage:s})}return jt={Cache:t,createCache:r,createStorage:e},jt}var $i=Ri();let Mt=0,Dr=[];function Ii(){return Mt+=1,()=>{if(Mt-=1,Mt===0){let t=Dr;Dr=[];for(let e of t)e()}}}let Q=[],Rn=(t,e)=>{let r=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},l:0,lc:0,listen(s,i){return n.lc=r.push(s,i||n.l)/2,()=>{let o=r.indexOf(s);~o&&(r.splice(o,2),--n.lc||n.off())}},notify(s,i){let o=!Q.length;for(let a=0;a<r.length;a+=2)Q.push(r[a],r[a+1],n.value,s,i);if(o){for(let a=0;a<Q.length;a+=5){let c;for(let l=a+1;!c&&(l+=5)<Q.length;)Q[l]<Q[a+1]&&(c=Q.push(Q[a],Q[a+1],Q[a+2],Q[a+3],Q[a+4]));c||Q[a](Q[a+2],Q[a+3],Q[a+4])}Q.length=0}},off(){},set(s){let i=n.value;i!==s&&(n.value=s,n.notify(i))},subscribe(s,i){let o=n.listen(s,i);return s(n.value),o},value:t};return n};const xi=5,nt=6,st=10;let Pi=(t,e,r,n)=>(t.events=t.events||{},t.events[r+st]||(t.events[r+st]=n(s=>{t.events[r].reduceRight((i,o)=>(o(i),i),{shared:{},...s})})),t.events[r]=t.events[r]||[],t.events[r].push(e),()=>{let s=t.events[r],i=s.indexOf(e);s.splice(i,1),s.length||(delete t.events[r],t.events[r+st](),delete t.events[r+st])}),ji=1e3,Mi=(t,e)=>Pi(t,r=>{let n=e(r);n&&t.events[nt].push(n)},xi,r=>{let n=t.listen;t.listen=(...i)=>(!t.lc&&!t.active&&(t.active=!0,r()),n(...i));let s=t.off;return t.events[nt]=[],t.off=()=>{s(),setTimeout(()=>{if(t.active&&!t.lc){t.active=!1;for(let i of t.events[nt])i();t.events[nt]=[]}},ji)},()=>{t.listen=n,t.off=s}}),ki=(t={})=>{let e=Rn(t);return e.setKey=function(r,n){let s=e.value;typeof n>"u"&&r in e.value?(e.value={...e.value},delete e.value[r],e.notify(s,r)):e.value[r]!==n&&(e.value={...e.value,[r]:n},e.notify(s,r))},e};const Nt=typeof document>"u"?"server":"browser",Li=t=>{const{ssr:e,setFetcher:r}=t;return n=>{if(Nt==="server")throw new Error("Live mode is not supported in server environments");if(e&&!n.client)throw new Error("The `client` option in `enableLiveMode` is required");const s=n.client||t.client||void 0,i=new AbortController;let o;return ht(async()=>{const{enableLiveMode:a}=await import("./enableLiveMode.DSCZBbqs.js");return{enableLiveMode:a}},__vite__mapDeps([0,1,2]),import.meta.url).then(({enableLiveMode:a})=>{i.signal.aborted||(o=a({...n,client:s,setFetcher:r,ssr:e}))}),()=>{i.abort(),o==null||o()}}};function Ur(t){return t.withConfig({allowReconfigure:!1})}const Fi=t=>{const{ssr:e=!1,tag:r="core-loader"}=t;if(e&&t.client)throw new TypeError("`client` option is not allowed when `ssr: true`, use `setServerClient` from your server entry point instead");if(!e&&t.client===!1)throw new TypeError("You must set `ssr: true` when `client: false` is used");if(!e&&!t.client)throw new TypeError("`client` is required");let n=e?void 0:Ur(t.client);function s(p){return $i.createCache().define("fetch",async m=>{if(!p)throw new Error("You have to set the Sanity client with `setServerClient` before any data fetching is done");const{query:y,params:d={},perspective:g,useCdn:v,stega:f}=JSON.parse(m),{result:h,resultSourceMap:b}=await p.fetch(y,d,{tag:r,filterResponse:!1,perspective:g,useCdn:v,stega:f});return{result:h,resultSourceMap:b}})}function i(){const p=(n==null?void 0:n.config().perspective)||"published";return o.instance=s(n),{hydrate:(m,y,d)=>({loading:(d==null?void 0:d.data)===void 0||(d==null?void 0:d.sourceMap)===void 0,error:void 0,data:d==null?void 0:d.data,sourceMap:d==null?void 0:d.sourceMap,perspective:p}),fetch:(m,y,d,g)=>{if(g.signal.aborted)return;const v=Ii();d.setKey("loading",!0),d.setKey("error",void 0),o.instance.fetch(JSON.stringify({query:m,params:y})).then(f=>{g.signal.aborted||(d.setKey("data",f.result),d.setKey("sourceMap",f.resultSourceMap),d.setKey("perspective",p))}).catch(f=>{d.setKey("error",f)}).finally(()=>{d.setKey("loading",!1),v()})}}}const o={instance:s(n)},a=Rn(n?i():void 0),c=Li({client:n||void 0,ssr:e,setFetcher:p=>{const m=a.get();return a.set(p),()=>a.set(m)}}),l=(p,m={},y)=>{const d=a.get(),g=ki(d?d.hydrate(p,m,y):{loading:!1,error:typeof(y==null?void 0:y.data)>"u"?new Error("The `initial` option is required when `ssr: true`"):void 0,data:y==null?void 0:y.data,sourceMap:y==null?void 0:y.sourceMap,perspective:y==null?void 0:y.perspective});return Mi(g,()=>{let v=new AbortController;const f=a.subscribe(h=>{!h||v.signal.aborted||(v.abort(),v=new AbortController,h.fetch(p,m,g,v))});return()=>{v.abort(),f()}}),g},u={instance:void 0,canPreviewDrafts:!1};return{createFetcherStore:l,enableLiveMode:c,setServerClient:p=>{if(Nt!=="server")throw new Error("`setServerClient` can only be called in server environments, detected: "+JSON.stringify(Nt));if(!e)throw new Error("`setServerClient` can only be called when `ssr: true`");u.instance=n=Ur(p),u.canPreviewDrafts=!!n.config().token,a.set(i())},unstable__cache:o,unstable__serverClient:u}};function qi(t){return Xr(typeof t=="object"?t==null?void 0:t.config().stega.studioUrl:void 0)}function Di({enableLiveMode:t,studioUrlStore:e}){return({allowStudioOrigin:r,client:n,onConnect:s,onDisconnect:i,studioUrl:o}={})=>(r&&console.warn("`allowStudioOrigin` is deprecated and no longer needed"),e.set(o??(typeof n=="object"?n==null?void 0:n.config().stega.studioUrl:void 0)),t({client:n,onConnect:s,onDisconnect:i}))}var Ui=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r};const Ni=Ls(Ui);var kt;function zi(t){return kt==null?void 0:kt.get(t)}var Lt;function Ki(t){return Lt==null?void 0:Lt.get(t)}var Ft;function Bi(t,e){var r;return(r=Ft==null?void 0:Ft.get(t))==null?void 0:r.get(e)}function Vi(t){var r,n;let e=typeof t;return e==="object"&&(e=(t&&((n=(r=Object.getPrototypeOf(t))==null?void 0:r.constructor)==null?void 0:n.name))??"null"),e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e}function yt(t,e,r,n,s){const i=s&&"input"in s?s.input:r.value,o=(s==null?void 0:s.expected)??t.expects,a=(s==null?void 0:s.received)??Vi(i),c={kind:t.kind,type:t.type,input:i,expected:o,received:a,message:`Invalid ${e}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:t.requirement,path:s==null?void 0:s.path,issues:s==null?void 0:s.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly,skipPipe:n.skipPipe},l=t.kind==="schema",u=t.message??Bi(t.reference,c.lang)??(l?Ki(c.lang):null)??n.message??zi(c.lang);u&&(c.message=typeof u=="function"?u(c):u),l&&(r.typed=!1),r.issues?r.issues.push(c):r.issues=[c]}function Hi(t){return t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function $n(t,e){return{kind:"validation",type:"min_length",reference:$n,async:!1,expects:`>=${t}`,requirement:t,message:e,_run(r,n){return r.typed&&r.value.length<this.requirement&&yt(this,"length",r,n,{received:`${r.value.length}`}),r}}}function Ji(t,e,r){return typeof t.default=="function"?t.default(e,r):t.default}function Gi(t,e){return!t._run({typed:!1,value:e},{abortEarly:!0}).issues}function nr(t,e){return{kind:"schema",type:"object",reference:nr,expects:"Object",async:!1,entries:t,message:e,_run(r,n){var i;const s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};for(const o in this.entries){const a=s[o],c=this.entries[o]._run({typed:!1,value:a},n);if(c.issues){const l={type:"object",origin:"value",input:s,key:o,value:a};for(const u of c.issues)u.path?u.path.unshift(l):u.path=[l],(i=r.issues)==null||i.push(u);if(r.issues||(r.issues=c.issues),n.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),(c.value!==void 0||o in s)&&(r.value[o]=c.value)}}else yt(this,"type",r,n);return r}}}function gt(t,...e){const r={kind:"schema",type:"optional",reference:gt,expects:`${t.expects} | undefined`,async:!1,wrapped:t,_run(n,s){return n.value===void 0&&("default"in this&&(n.value=Ji(this,n,s)),n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,s)}};return 0 in e&&(r.default=e[0]),r}function In(t,e,r){return{kind:"schema",type:"record",reference:In,expects:"Object",async:!1,key:t,value:e,message:r,_run(n,s){var o,a;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const c in i)if(Hi(c)){const l=i[c],u=this.key._run({typed:!1,value:c},s);if(u.issues){const m={type:"record",origin:"key",input:i,key:c,value:l};for(const y of u.issues)y.path=[m],(o=n.issues)==null||o.push(y);if(n.issues||(n.issues=u.issues),s.abortEarly){n.typed=!1;break}}const p=this.value._run({typed:!1,value:l},s);if(p.issues){const m={type:"record",origin:"value",input:i,key:c,value:l};for(const y of p.issues)y.path?y.path.unshift(m):y.path=[m],(a=n.issues)==null||a.push(y);if(n.issues||(n.issues=p.issues),s.abortEarly){n.typed=!1;break}}(!u.typed||!p.typed)&&(n.typed=!1),u.typed&&(n.value[u.value]=p.value)}}else yt(this,"type",n,s);return n}}}function mt(t){return{kind:"schema",type:"string",reference:mt,expects:"string",async:!1,message:t,_run(e,r){return typeof e.value=="string"?e.typed=!0:yt(this,"type",e,r),e}}}function xn(){return{kind:"schema",type:"unknown",reference:xn,expects:"unknown",async:!1,_run(t){return t.typed=!0,t}}}function Yi(...t){return{...t[0],pipe:t,_run(e,r){for(let n=0;n<t.length;n++){e=t[n]._run(e,r);const s=t[n+1];if(r.skipPipe||e.issues&&(r.abortEarly||r.abortPipeEarly||(s==null?void 0:s.kind)==="schema"||(s==null?void 0:s.kind)==="transformation")){e.typed=!1;break}}return e}}}function Qi(t){return t!==null&&Array.isArray(t)}function Wi(t){let e="";for(const r of t){if(typeof r=="string"){e&&(e+="."),e+=r;continue}if(typeof r=="number"){e&&(e+=":"),e+=`${r}`;continue}if(Qi(r)){e&&(e+=":"),e+=`${r.join(",")}}`;continue}if(r._key){e&&(e+=":"),e+=`${r._key}`;continue}}return e}const Xi="drafts.",Te=Yi(mt(),$n(1)),je=gt(Te),Zi=nr({baseUrl:Te,dataset:je,id:Te,path:Te,projectId:je,tool:je,type:je,workspace:je,isDraft:gt(mt())});nr({origin:Te,href:Te,data:gt(In(mt(),xn()))});function eo(t){return Gi(Zi,t)}function to(t){const{id:e,path:r,baseUrl:n,tool:s,workspace:i,type:o}=t;return eo(t)?[["id",_s(e)],["type",o],["path",Wi(Qt.fromString(r))],["base",encodeURIComponent(n)],["workspace",i],["tool",s],["isDraft",e.startsWith(Xi)]].filter(([,a])=>!!a).map(a=>{const[c,l]=a;return l===!0?c:a.join("=")}).join(";"):void 0}const ro=(t,e,r,n)=>{if(!e||!r)return;const s=Is(n),i=Ms({resultPath:s,resultSourceMap:e,studioUrl:r});if(i)return to({baseUrl:i.baseUrl,workspace:i.workspace,tool:i.tool,type:i.type,id:i.id,path:typeof i.path=="string"?i.path:Qt.toString($s(i.path))})};function Pn(t,e,r,n){const s=o=>o?typeof o=="string"?Qt.fromString(o):o:[],i=s(n);return Object.assign(o=>ro(t,e,r,[...i,...s(o)]),{scope:o=>Pn(t,e,r,[...i,...s(o)])})}function no(t,e,r){return Pn(t,e,r)}function so({createFetcherStore:t,studioUrlStore:e}){const r={},n={};return(s,i=r,o=n)=>{typeof s=="object"&&(i=s.params||r,o=s.options||n,s=s.query);const a=o.initial?{perspective:"published",...o.initial}:void 0,c=JSON.stringify(i),l=t(s,JSON.parse(c),a),u=Xr(l.value);return ys(()=>l.subscribe(p=>{const m=gs(u);m.error!==p.error&&u.set(p),m.loading!==p.loading&&u.set(p),m.perspective!==p.perspective&&u.set(p),Ni(m.data,p.data)||u.set(p)})),ms([u,e],([p,m])=>({...p,encodeDataAttribute:no(p.data,p.sourceMap,m)}))}}const io=t=>{const{createFetcherStore:e,setServerClient:r,enableLiveMode:n,unstable__cache:s,unstable__serverClient:i}=Fi({tag:"svelte-loader",...t}),o=qi(t.client),a=so({createFetcherStore:e,studioUrlStore:o}),c=Di({enableLiveMode:n,studioUrlStore:o});return{loadQuery:async(u,p={},m={})=>{var S,_;const{headers:y,tag:d}=m,g=m.perspective||((S=i.instance)==null?void 0:S.config().perspective)||"published",v=m.stega??((_=i.instance)==null?void 0:_.config().stega)??!1;if(typeof document<"u")throw new Error("Cannot use `loadQuery` in a browser environment, you should use it inside a load function.");if(g!=="published"&&!i.instance)throw new Error('You cannot use other perspectives than "published" unless call "setServerClient" first.');if(g==="previewDrafts"){if(!i.canPreviewDrafts)throw new Error('You cannot use "previewDrafts" unless you set a "token" in the "client" instance passed to "setServerClient".');const{result:R,resultSourceMap:C}=await i.instance.fetch(u,p,{filterResponse:!1,resultSourceMap:"withKeyArraySelector",perspective:g,useCdn:!1,headers:y,tag:d,stega:v});return{data:R,sourceMap:C,perspective:g}}const f=m.useCdn||i.instance.config().useCdn,{result:h,resultSourceMap:b}=await s.instance.fetch(JSON.stringify({query:u,params:p,perspective:g,useCdn:f,stega:v}));return b?{data:h,sourceMap:b}:{data:h}},useQuery:a,setServerClient:r,useLiveMode:c,unstable__serverClient:i}},{useLiveMode:Xa,useQuery:Za}=io({client:!1,ssr:!0}),jn=!(typeof navigator>"u")&&navigator.product==="ReactNative",Mn={timeout:jn?6e4:12e4},oo=function(t){const e={...Mn,...typeof t=="string"?{url:t}:t};if(e.timeout=kn(e.timeout),e.query){const{url:r,searchParams:n}=function(s){const i=s.indexOf("?");if(i===-1)return{url:s,searchParams:new URLSearchParams};const o=s.slice(0,i),a=s.slice(i+1);if(!jn)return{url:o,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const c=new URLSearchParams;for(const l of a.split("&")){const[u,p]=l.split("=");u&&c.append(Nr(u),Nr(p||""))}return{url:o,searchParams:c}}(e.url);for(const[s,i]of Object.entries(e.query)){if(i!==void 0)if(Array.isArray(i))for(const a of i)n.append(s,a);else n.append(s,i);const o=n.toString();o&&(e.url=`${r}?${o}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function Nr(t){return decodeURIComponent(t.replace(/\+/g," "))}function kn(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?kn(Mn.timeout):{connect:e,socket:e}}const ao=/^https?:\/\//i,uo=function(t){if(!ao.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function Ln(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const co=["request","response","progress","error","abort"],zr=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function Fn(t,e){const r=[],n=zr.reduce((i,o)=>(i[o]=i[o]||[],i),{processOptions:[oo],validateOptions:[uo]});function s(i){const o=co.reduce((y,d)=>(y[d]=function(){const g=Object.create(null);let v=0;return{publish:function(f){for(const h in g)g[h](f)},subscribe:function(f){const h=v++;return g[h]=f,function(){delete g[h]}}}}(),y),{}),a=(y=>function(d,g,...v){const f=d==="onError";let h=g;for(let b=0;b<y[d].length&&(h=(0,y[d][b])(h,...v),!f||h);b++);return h})(n),c=a("processOptions",i);a("validateOptions",c);const l={options:c,channels:o,applyMiddleware:a};let u;const p=o.request.subscribe(y=>{u=e(y,(d,g)=>((v,f,h)=>{let b=v,S=f;if(!b)try{S=a("onResponse",f,h)}catch(_){S=null,b=_}b=b&&a("onError",b,h),b?o.error.publish(b):S&&o.response.publish(S)})(d,g,y))});o.abort.subscribe(()=>{p(),u&&u.abort()});const m=a("onReturn",o,l);return m===o&&o.request.publish(l),m}return s.use=function(i){if(!i)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof i=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(i.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return zr.forEach(o=>{i[o]&&n[o].push(i[o])}),r.push(i),s},s.clone=()=>Fn(r,e),t.forEach(s.use),s}var qt=function(t){return t.replace(/^\s+|\s+$/g,"")},lo=Ln(function(t){if(!t)return{};for(var e={},r=qt(t).split(`
`),n=0;n<r.length;n++){var s=r[n],i=s.indexOf(":"),o=qt(s.slice(0,i)).toLowerCase(),a=qt(s.slice(i+1));typeof e[o]>"u"?e[o]=a:(c=e[o],Object.prototype.toString.call(c)==="[object Array]"?e[o].push(a):e[o]=[e[o],a])}var c;return e}),qe,De,Oe,Ue,se,Ne,ze,Wr;let zt=(Wr=class{constructor(){x(this,"onabort");x(this,"onerror");x(this,"onreadystatechange");x(this,"ontimeout");x(this,"readyState",0);x(this,"response");x(this,"responseText","");x(this,"responseType","");x(this,"status");x(this,"statusText");x(this,"withCredentials");k(this,qe);k(this,De);k(this,Oe);k(this,Ue,{});k(this,se);k(this,Ne,{});k(this,ze)}open(e,r,n){var s;M(this,qe,e),M(this,De,r),M(this,Oe,""),this.readyState=1,(s=this.onreadystatechange)==null||s.call(this),M(this,se,void 0)}abort(){E(this,se)&&E(this,se).abort()}getAllResponseHeaders(){return E(this,Oe)}setRequestHeader(e,r){E(this,Ue)[e]=r}setInit(e,r=!0){M(this,Ne,e),M(this,ze,r)}send(e){const r=this.responseType!=="arraybuffer",n={...E(this,Ne),method:E(this,qe),headers:E(this,Ue),body:e};typeof AbortController=="function"&&E(this,ze)&&(M(this,se,new AbortController),typeof EventTarget<"u"&&E(this,se).signal instanceof EventTarget&&(n.signal=E(this,se).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(E(this,De),n).then(s=>{var i;return s.headers.forEach((o,a)=>{M(this,Oe,E(this,Oe)+`${a}: ${o}\r
`)}),this.status=s.status,this.statusText=s.statusText,this.readyState=3,(i=this.onreadystatechange)==null||i.call(this),r?s.text():s.arrayBuffer()}).then(s=>{var i;typeof s=="string"?this.responseText=s:this.response=s,this.readyState=4,(i=this.onreadystatechange)==null||i.call(this)}).catch(s=>{var i,o;s.name!=="AbortError"?(i=this.onerror)==null||i.call(this,s):(o=this.onabort)==null||o.call(this)})}},qe=new WeakMap,De=new WeakMap,Oe=new WeakMap,Ue=new WeakMap,se=new WeakMap,Ne=new WeakMap,ze=new WeakMap,Wr);const Kt=typeof XMLHttpRequest=="function"?"xhr":"fetch",fo=Kt==="xhr"?XMLHttpRequest:zt,ho=(t,e)=>{const r=t.options,n=t.applyMiddleware("finalizeOptions",r),s={},i=t.applyMiddleware("interceptRequest",void 0,{adapter:Kt,context:t});if(i){const g=setTimeout(e,0,null,i);return{abort:()=>clearTimeout(g)}}let o=new fo;o instanceof zt&&typeof n.fetch=="object"&&o.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,c=n.timeout;let l=!1,u=!1,p=!1;if(o.onerror=g=>{d(o instanceof zt?g instanceof Error?g:new Error(`Request error while attempting to reach is ${n.url}`,{cause:g}):new Error(`Request error while attempting to reach is ${n.url}${g.lengthComputable?`(${g.loaded} of ${g.total} bytes transferred)`:""}`))},o.ontimeout=g=>{d(new Error(`Request timeout while attempting to reach ${n.url}${g.lengthComputable?`(${g.loaded} of ${g.total} bytes transferred)`:""}`))},o.onabort=()=>{y(!0),l=!0},o.onreadystatechange=()=>{c&&(y(),s.socket=setTimeout(()=>m("ESOCKETTIMEDOUT"),c.socket)),!l&&o.readyState===4&&o.status!==0&&function(){if(!(l||u||p)){if(o.status===0)return void d(new Error("Unknown XHR error"));y(),u=!0,e(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:n.url,method:n.method,headers:lo(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(n.method,n.url,!0),o.withCredentials=!!n.withCredentials,a&&o.setRequestHeader)for(const g in a)a.hasOwnProperty(g)&&o.setRequestHeader(g,a[g]);return n.rawBody&&(o.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:n,adapter:Kt,request:o,context:t}),o.send(n.body||null),c&&(s.connect=setTimeout(()=>m("ETIMEDOUT"),c.connect)),{abort:function(){l=!0,o&&o.abort()}};function m(g){p=!0,o.abort();const v=new Error(g==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);v.code=g,t.channels.error.publish(v)}function y(g){(g||l||o.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function d(g){if(u)return;y(!0),u=!0,o=null;const v=g||new Error(`Network error while attempting to reach ${n.url}`);v.isNetworkError=!0,v.request=n,e(v)}},po=(t=[],e=ho)=>Fn(t,e);var yo={},Kr,Br,Bt={exports:{}};function go(){if(Br)return Kr;Br=1;var t=1e3,e=60*t,r=60*e,n=24*r,s=7*n,i=365.25*n;function o(a,c,l,u){var p=c>=1.5*l;return Math.round(a/l)+" "+u+(p?"s":"")}return Kr=function(a,c){c=c||{};var l,u,p=typeof a;if(p==="string"&&a.length>0)return function(m){if(!((m=String(m)).length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(y){var d=parseFloat(y[1]);switch((y[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}(a);if(p==="number"&&isFinite(a))return c.long?(l=a,(u=Math.abs(l))>=n?o(l,u,n,"day"):u>=r?o(l,u,r,"hour"):u>=e?o(l,u,e,"minute"):u>=t?o(l,u,t,"second"):l+" ms"):function(m){var y=Math.abs(m);return y>=n?Math.round(m/n)+"d":y>=r?Math.round(m/r)+"h":y>=e?Math.round(m/e)+"m":y>=t?Math.round(m/t)+"s":m+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}var mo=function(t){function e(s){let i,o,a,c=null;function l(...u){if(!l.enabled)return;const p=l,m=Number(new Date),y=m-(i||m);p.diff=y,p.prev=i,p.curr=m,i=m,u[0]=e.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");let d=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,(g,v)=>{if(g==="%%")return"%";d++;const f=e.formatters[v];if(typeof f=="function"){const h=u[d];g=f.call(p,h),u.splice(d,1),d--}return g}),e.formatArgs.call(p,u),(p.log||e.log).apply(p,u)}return l.namespace=s,l.useColors=e.useColors(),l.color=e.selectColor(s),l.extend=r,l.destroy=e.destroy,Object.defineProperty(l,"enabled",{enumerable:!0,configurable:!1,get:()=>c!==null?c:(o!==e.namespaces&&(o=e.namespaces,a=e.enabled(s)),a),set:u=>{c=u}}),typeof e.init=="function"&&e.init(l),l}function r(s,i){const o=e(this.namespace+(typeof i>"u"?":":i)+s);return o.log=this.log,o}function n(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(s){return s instanceof Error?s.stack||s.message:s},e.disable=function(){const s=[...e.names.map(n),...e.skips.map(n).map(i=>"-"+i)].join(",");return e.enable(""),s},e.enable=function(s){let i;e.save(s),e.namespaces=s,e.names=[],e.skips=[];const o=(typeof s=="string"?s:"").split(/[\s,]+/),a=o.length;for(i=0;i<a;i++)o[i]&&((s=o[i].replace(/\*/g,".*?"))[0]==="-"?e.skips.push(new RegExp("^"+s.slice(1)+"$")):e.names.push(new RegExp("^"+s+"$")))},e.enabled=function(s){if(s[s.length-1]==="*")return!0;let i,o;for(i=0,o=e.skips.length;i<o;i++)if(e.skips[i].test(s))return!1;for(i=0,o=e.names.length;i<o;i++)if(e.names[i].test(s))return!0;return!1},e.humanize=go(),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(s=>{e[s]=t[s]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(s){let i=0;for(let o=0;o<s.length;o++)i=(i<<5)-i+s.charCodeAt(o),i|=0;return e.colors[Math.abs(i)%e.colors.length]},e.enable(e.load()),e};(function(t,e){e.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;n.splice(1,0,s,"color: inherit");let i=0,o=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(o=i))}),n.splice(o,0,s)},e.save=function(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}},e.load=function(){let n;try{n=e.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=yo.DEBUG),n},e.useColors=function(){return!(!(typeof window<"u"&&window.process)||window.process.type!=="renderer"&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=mo(e);const{formatters:r}=t.exports;r.j=function(n){try{return JSON.stringify(n)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}})(Bt,Bt.exports);Ln(Bt.exports);const bo=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function Vr(t){return Object.prototype.toString.call(t)==="[object Object]"}function wo(t){if(Vr(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(Vr(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)}const vo=["boolean","string","number"];function Eo(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||bo(e)||vo.indexOf(typeof e)===-1&&!Array.isArray(e)&&!wo(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function So(t){return{onResponse:r=>{const n=r.headers["content-type"]||"",s=n.indexOf("application/json")!==-1;return r.body&&n&&s?Object.assign({},r,{body:e(r.body)}):r},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function e(r){try{return JSON.parse(r)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}let Me={};typeof globalThis<"u"?Me=globalThis:typeof window<"u"?Me=window:typeof global<"u"?Me=global:typeof self<"u"&&(Me=self);var Ao=Me;function Co(t={}){const e=t.implementation||Ao.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new e(s=>(r.error.subscribe(i=>s.error(i)),r.progress.subscribe(i=>s.next(Object.assign({type:"progress"},i))),r.response.subscribe(i=>{s.next(Object.assign({type:"response"},i)),s.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function To(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,r=t.context;function n(s){return i=>{const o=i.lengthComputable?i.loaded/i.total*100:-1;r.channels.progress.publish({stage:s,percent:o,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}}}var qn=(t,e,r)=>(r.method==="GET"||r.method==="HEAD")&&(t.isNetworkError||!1);function _o(t){return 100*Math.pow(2,t)+100*Math.random()}const sr=(t={})=>(e=>{const r=e.maxRetries||5,n=e.retryDelay||_o,s=e.shouldRetry;return{onError:(i,o)=>{const a=o.options,c=a.maxRetries||r,l=a.retryDelay||n,u=a.shouldRetry||s,p=a.attemptNumber||0;if((m=a.body)!==null&&typeof m=="object"&&typeof m.pipe=="function"||!u(i,p,a)||p>=c)return i;var m;const y=Object.assign({},o,{options:Object.assign({},a,{attemptNumber:p+1})});return setTimeout(()=>o.channels.request.publish(y),l(p)),null}}})({shouldRetry:qn,...t});sr.shouldRetry=qn;var Dn={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},ir={0:8203,1:8204,2:8205,3:65279},Oo=new Array(4).fill(String.fromCodePoint(ir[0])).join("");function Ro(t){let e=JSON.stringify(t);return`${Oo}${Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(s=>String.fromCodePoint(ir[s])).join("")}).join("")}`}function $o(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function Io(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function tu(t,e,r="auto"){return r===!0||r==="auto"&&($o(t)||Io(t))?t:`${t}${Ro(e)}`}Object.fromEntries(Object.entries(ir).map(t=>t.reverse()));Object.fromEntries(Object.entries(Dn).map(t=>t.reverse()));var xo=`${Object.values(Dn).map(t=>`\\u{${t.toString(16)}}`).join("")}`,Hr=new RegExp(`[${xo}]{4,}`,"gu");function Po(t){var e;return{cleaned:t.replace(Hr,""),encoded:((e=t.match(Hr))==null?void 0:e[0])||""}}function jo(t){return t&&JSON.parse(Po(JSON.stringify(t)).cleaned)}function Mo(t){return jo(t)}class ko extends Error{constructor(r){const n=Un(r);super(n.message);x(this,"response");x(this,"statusCode",400);x(this,"responseBody");x(this,"details");Object.assign(this,n)}}class Lo extends Error{constructor(r){const n=Un(r);super(n.message);x(this,"response");x(this,"statusCode",500);x(this,"responseBody");x(this,"details");Object.assign(this,n)}}function Un(t){const e=t.body,r={response:t,statusCode:t.statusCode,responseBody:Uo(e,t),message:"",details:void 0};if(e.error&&e.message)return r.message=`${e.error} - ${e.message}`,r;if(Fo(e)||qo(e)){const n=e.error.items||[],s=n.slice(0,5).map(o=>{var a;return(a=o.error)==null?void 0:a.description}).filter(Boolean);let i=s.length?`:
- ${s.join(`
- `)}`:"";return n.length>5&&(i+=`
...and ${n.length-5} more`),r.message=`${e.error.description}${i}`,r.details=e.error,r}return e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||Do(t),r)}function Fo(t){return ot(t)&&ot(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function qo(t){return ot(t)&&ot(t.error)&&t.error.type==="actionError"&&typeof t.error.description=="string"}function ot(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Do(t){const e=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${e}`}function Uo(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}class No extends Error{constructor({projectId:r}){super("CorsOriginError");x(this,"projectId");x(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=r;const n=new URL(`https://sanity.io/manage/project/${r}/api`);if(typeof location<"u"){const{origin:s}=location;n.searchParams.set("cors","add"),n.searchParams.set("origin",s),this.addOriginUrl=n,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${n}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${n}`}}const zo={onResponse:t=>{if(t.statusCode>=500)throw new Lo(t);if(t.statusCode>=400)throw new ko(t);return t}},Ko={onResponse:t=>{const e=t.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach(r=>console.warn(r)),t}};function Bo(t){return po([sr({shouldRetry:Vo}),...t,Ko,Eo(),So(),To(),zo,Co({implementation:X})])}function Vo(t,e,r){if(r.maxRetries===0)return!1;const n=r.method==="GET"||r.method==="HEAD",s=(r.uri||r.url).startsWith("/data/query"),i=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(n||s)&&i?!0:sr.shouldRetry(t,e,r)}function Nn(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}const Jr=["image","file"],Gr=["before","after","replace"],zn=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Ho=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Jo=t=>{if(Jr.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${Jr.join(", ")}`)},ke=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},Kn=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},at=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);Kn(t,e._id)},Go=(t,e,r)=>{const n="insert(at, selector, items)";if(Gr.indexOf(t)===-1){const s=Gr.map(i=>`"${i}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${s}`)}if(typeof e!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${n} takes an "items"-argument which must be an array`)},Bn=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},Vn=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t};class Hn{constructor(e,r={}){x(this,"selection");x(this,"operations");this.selection=e,this.operations=r}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return ke("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,r,n){return Go(e,r,n),this._assign("insert",{[e]:r,items:n})}append(e,r){return this.insert("after",`${e}[-1]`,r)}prepend(e,r){return this.insert("before",`${e}[0]`,r)}splice(e,r,n,s){const i=typeof n>"u"||n===-1,o=r<0?r-1:r,a=i?-1:Math.max(0,r+n),c=o<0&&a>=0?"":a,l=`${e}[${o}:${c}]`;return this.insert("replace",l,s||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...Nn(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,r,n=!0){return ke(e,r),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},r)}),this}_set(e,r){return this._assign(e,r,!1)}}var pe;const cr=class cr extends Hn{constructor(r,n,s){super(r,n);k(this,pe);M(this,pe,s)}clone(){return new cr(this.selection,{...this.operations},E(this,pe))}commit(r){if(!E(this,pe))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",s=Object.assign({returnFirst:n,returnDocuments:!0},r);return E(this,pe).mutate({patch:this.serialize()},s)}};pe=new WeakMap;let be=cr;var ye;const lr=class lr extends Hn{constructor(r,n,s){super(r,n);k(this,ye);M(this,ye,s)}clone(){return new lr(this.selection,{...this.operations},E(this,ye))}commit(r){if(!E(this,ye))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",s=Object.assign({returnFirst:n,returnDocuments:!0},r);return E(this,ye).mutate({patch:this.serialize()},s)}};ye=new WeakMap;let we=lr;const Jn={returnDocuments:!1};class Gn{constructor(e=[],r){x(this,"operations");x(this,"trxId");this.operations=e,this.trxId=r}create(e){return ke("create",e),this._add({create:e})}createIfNotExists(e){const r="createIfNotExists";return ke(r,e),at(r,e),this._add({[r]:e})}createOrReplace(e){const r="createOrReplace";return ke(r,e),at(r,e),this._add({[r]:e})}delete(e){return Kn("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var ue;const fr=class fr extends Gn{constructor(r,n,s){super(r,s);k(this,ue);M(this,ue,n)}clone(){return new fr([...this.operations],E(this,ue),this.trxId)}commit(r){if(!E(this,ue))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return E(this,ue).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Jn,r||{}))}patch(r,n){const s=typeof n=="function";if(typeof r!="string"&&r instanceof we)return this._add({patch:r.serialize()});if(s){const i=n(new we(r,{},E(this,ue)));if(!(i instanceof we))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:r,...n}})}};ue=new WeakMap;let ut=fr;var ce;const hr=class hr extends Gn{constructor(r,n,s){super(r,s);k(this,ce);M(this,ce,n)}clone(){return new hr([...this.operations],E(this,ce),this.trxId)}commit(r){if(!E(this,ce))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return E(this,ce).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Jn,r||{}))}patch(r,n){const s=typeof n=="function";if(typeof r!="string"&&r instanceof be)return this._add({patch:r.serialize()});if(s){const i=n(new be(r,{},E(this,ce)));if(!(i instanceof be))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:r,...n}})}};ce=new WeakMap;let ct=hr;const Yo="https://www.sanity.io/help/";function or(t){return Yo+t}function Qo(t){let e=!1,r;return(...n)=>(e||(r=t(...n),e=!0),r)}const Ze=t=>Qo((...e)=>console.warn(t.join(" "),...e)),Wo=Ze(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Xo=Ze(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Zo=Ze(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),ea=Ze(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${or("js-client-browser-token")} for more information and how to hide this warning.`]),ta=Ze(["Using the Sanity client without specifying an API version is deprecated.",`See ${or("js-client-api-version")}`]),ra="apicdn.sanity.io",Le={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},na=["localhost","127.0.0.1","0.0.0.0"],sa=t=>na.indexOf(t)!==-1;function ia(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}const Yn=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},Qn=(t,e)=>{const r={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||Le.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};r.apiVersion||ta();const n={...Le,...r},s=n.useProjectHostname;if(typeof Promise>"u"){const p=or("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${p}`)}if(s&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(typeof n.perspective=="string"&&Yn(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const i=typeof window<"u"&&window.location&&window.location.hostname,o=i&&sa(window.location.hostname);i&&o&&n.token&&n.ignoreBrowserTokenWarning!==!0?ea():typeof n.useCdn>"u"&&Xo(),s&&Ho(n.projectId),n.dataset&&zn(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?Vn(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===Le.apiHost,n.useCdn===!0&&n.withCredentials&&Wo(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,ia(n.apiVersion);const a=n.apiHost.split("://",2),c=a[0],l=a[1],u=n.isDefaultApi?ra:l;return n.useProjectHostname?(n.url=`${c}://${n.projectId}.${l}/v${n.apiVersion}`,n.cdnUrl=`${c}://${n.projectId}.${u}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n},oa="X-Sanity-Project-ID";function aa(t,e={}){const r={},n=e.token||t.token;n&&(r.Authorization=`Bearer ${n}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[oa]=t.projectId);const s=!!(typeof e.withCredentials>"u"?t.token||t.withCredentials:e.withCredentials),i=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},r,e.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:e.proxy||t.proxy,json:!0,withCredentials:s,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const Wn=({query:t,params:e={},options:r={}})=>{const n=new URLSearchParams,{tag:s,includeMutations:i,returnQuery:o,...a}=r;s&&n.append("tag",s),n.append("query",t);for(const[c,l]of Object.entries(e))n.append(`$${c}`,JSON.stringify(l));for(const[c,l]of Object.entries(a))l&&n.append(c,`${l}`);return o===!1&&n.append("returnQuery","false"),i===!1&&n.append("includeMutations","false"),`?${n}`},ua=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,ca=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:ua(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),ar=t=>t.type==="response",la=t=>t.body,fa=(t,e)=>t.reduce((r,n)=>(r[e(n)]=n,r),Object.create(null)),ha=11264;function Xn(t,e,r,n,s={},i={}){const o="stega"in i?{...r||{},...typeof i.stega=="boolean"?{enabled:i.stega}:i.stega||{}}:r,a=o.enabled?Mo(s):s,c=i.filterResponse===!1?d=>d:d=>d.result,{cache:l,next:u,...p}={useAbortSignal:typeof i.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":i.resultSourceMap,...i,returnQuery:i.filterResponse===!1&&i.returnQuery!==!1},m=typeof l<"u"||typeof u<"u"?{...p,fetch:{cache:l,next:u}}:p,y=Pe(t,e,"query",{query:n,params:a},m);return o.enabled?y.pipe(wi(En(ht(()=>import("./stegaEncodeSourceMap.8SzLCf01.js"),[],import.meta.url).then(function(d){return d.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:d})=>d))),ae(([d,g])=>{const v=g(d.result,d.resultSourceMap,o);return c({...d,result:v})})):y.pipe(ae(c))}function Zn(t,e,r,n={}){const s={uri:Se(t,"doc",r),json:!0,tag:n.tag,signal:n.signal};return et(t,e,s).pipe(Xe(ar),ae(i=>i.body.documents&&i.body.documents[0]))}function es(t,e,r,n={}){const s={uri:Se(t,"doc",r.join(",")),json:!0,tag:n.tag,signal:n.signal};return et(t,e,s).pipe(Xe(ar),ae(i=>{const o=fa(i.body.documents||[],a=>a._id);return r.map(a=>o[a]||null)}))}function ts(t,e,r,n){return at("createIfNotExists",r),bt(t,e,r,"createIfNotExists",n)}function rs(t,e,r,n){return at("createOrReplace",r),bt(t,e,r,"createOrReplace",n)}function ns(t,e,r,n){return Pe(t,e,"mutate",{mutations:[{delete:Nn(r)}]},n)}function ss(t,e,r,n){let s;r instanceof we||r instanceof be?s={patch:r.serialize()}:r instanceof ut||r instanceof ct?s=r.serialize():s=r;const i=Array.isArray(s)?s:[s],o=n&&n.transactionId||void 0;return Pe(t,e,"mutate",{mutations:i,transactionId:o},n)}function is(t,e,r,n){const s=Array.isArray(r)?r:[r],i=n&&n.transactionId||void 0,o=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return Pe(t,e,"actions",{actions:s,transactionId:i,skipCrossDatasetReferenceValidation:o,dryRun:a},n)}function Pe(t,e,r,n,s={}){const i=r==="mutate",o=r==="actions",a=r==="query",c=i||o?"":Wn(n),l=!i&&!o&&c.length<ha,u=l?c:"",p=s.returnFirst,{timeout:m,token:y,tag:d,headers:g,returnQuery:v,lastLiveEventId:f}=s,h=Se(t,r,u),b={method:l?"GET":"POST",uri:h,json:!0,body:l?void 0:n,query:i&&ca(s),timeout:m,headers:g,token:y,tag:d,returnQuery:v,perspective:s.perspective,resultSourceMap:s.resultSourceMap,lastLiveEventId:Array.isArray(f)?f[0]:f,canUseCdn:a,signal:s.signal,fetch:s.fetch,useAbortSignal:s.useAbortSignal,useCdn:s.useCdn};return et(t,e,b).pipe(Xe(ar),ae(la),ae(S=>{if(!i)return S;const _=S.results||[];if(s.returnDocuments)return p?_[0]&&_[0].document:_.map(I=>I.document);const R=p?"documentId":"documentIds",C=p?_[0]&&_[0].id:_.map(I=>I.id);return{transactionId:S.transactionId,results:_,[R]:C}}))}function bt(t,e,r,n,s={}){const i={[n]:r},o=Object.assign({returnFirst:!0,returnDocuments:!0},s);return Pe(t,e,"mutate",{mutations:[i]},o)}function et(t,e,r){const n=r.url||r.uri,s=t.config(),i=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&n.indexOf("/data/")===0:r.canUseCdn;let o=(r.useCdn??s.useCdn)&&i;const a=r.tag&&s.requestTagPrefix?[s.requestTagPrefix,r.tag].join("."):r.tag||s.requestTagPrefix;if(a&&r.tag!==null&&(r.query={tag:Vn(a),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&n.indexOf("/data/query/")===0){const u=r.resultSourceMap??s.resultSourceMap;u!==void 0&&u!==!1&&(r.query={resultSourceMap:u,...r.query});const p=r.perspective||s.perspective;typeof p=="string"&&p!=="raw"&&(Yn(p),r.query={perspective:p,...r.query},p==="previewDrafts"&&o&&(o=!1,Zo())),r.lastLiveEventId&&(r.query={...r.query,lastLiveEventId:r.lastLiveEventId}),r.returnQuery===!1&&(r.query={returnQuery:"false",...r.query})}const c=aa(s,Object.assign({},r,{url:ur(t,n,o)})),l=new X(u=>e(c,s.requester).subscribe(u));return r.signal?l.pipe(da(r.signal)):l}function te(t,e,r){return et(t,e,r).pipe(Xe(n=>n.type==="response"),ae(n=>n.body))}function Se(t,e,r){const n=t.config(),s=Bn(n),i=`/${e}/${s}`;return`/data${r?`${i}/${r}`:i}`.replace(/\/($|\?)/,"$1")}function ur(t,e,r=!1){const{url:n,cdnUrl:s}=t.config();return`${r?s:n}/${e.replace(/^\//,"")}`}function da(t){return e=>new X(r=>{const n=()=>r.error(ya(t));if(t&&t.aborted){n();return}const s=e.subscribe(r);return t.addEventListener("abort",n),()=>{t.removeEventListener("abort",n),s.unsubscribe()}})}const pa=!!globalThis.DOMException;function ya(t){if(pa)return new DOMException((t==null?void 0:t.reason)??"The operation was aborted.","AbortError");const e=new Error((t==null?void 0:t.reason)??"The operation was aborted.");return e.name="AbortError",e}var Ke,Be;class ga{constructor(e,r){k(this,Ke);k(this,Be);M(this,Ke,e),M(this,Be,r)}upload(e,r,n){return os(E(this,Ke),E(this,Be),e,r,n)}}Ke=new WeakMap,Be=new WeakMap;var Ve,He;class ma{constructor(e,r){k(this,Ve);k(this,He);M(this,Ve,e),M(this,He,r)}upload(e,r,n){const s=os(E(this,Ve),E(this,He),e,r,n);return V(s.pipe(Xe(i=>i.type==="response"),ae(i=>i.body.document)))}}Ve=new WeakMap,He=new WeakMap;function os(t,e,r,n,s={}){Jo(r);let i=s.extract||void 0;i&&!i.length&&(i=["none"]);const o=Bn(t.config()),a=r==="image"?"images":"files",c=ba(s,n),{tag:l,label:u,title:p,description:m,creditLine:y,filename:d,source:g}=c,v={label:u,title:p,description:m,filename:d,meta:i,creditLine:y};return g&&(v.sourceId=g.id,v.sourceName=g.name,v.sourceUrl=g.url),et(t,e,{tag:l,method:"POST",timeout:c.timeout||0,uri:`/assets/${a}/${o}`,headers:c.contentType?{"Content-Type":c.contentType}:{},query:v,body:n})}function ba(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var wa=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((r,n)=>(r[n]=typeof t[n]>"u"?e[n]:t[n],r),{});const va=(t,e)=>e.reduce((r,n)=>(typeof t[n]>"u"||(r[n]=t[n]),r),{}),Ea=14800,Sa=["includePreviousRevision","includeResult","includeMutations","visibility","effectFormat","tag"],Aa={includeResult:!0};function as(t,e,r={}){const{url:n,token:s,withCredentials:i,requestTagPrefix:o}=this.config(),a=r.tag&&o?[o,r.tag].join("."):r.tag,c={...wa(r,Aa),tag:a},l=va(c,Sa),u=Wn({query:t,params:e,options:{tag:a,...l}}),p=`${n}${Se(this,"listen",u)}`;if(p.length>Ea)return new X(g=>g.error(new Error("Query too large for listener")));const m=c.events?c.events:["mutation"],y=m.indexOf("reconnect")!==-1,d={};return(s||i)&&(d.withCredentials=!0),s&&(d.headers={Authorization:`Bearer ${s}`}),new X(g=>{let v,f,h=!1,b=!1;J();function S(){h||(F(),!h&&v.readyState===v.CLOSED&&(I(),clearTimeout(f),f=setTimeout(J,100)))}function _(j){g.error(Ca(j))}function R(j){const w=us(j);return w instanceof Error?g.error(w):g.next(w)}function C(){h=!0,I(),g.complete()}function I(){v&&(v.removeEventListener("error",S),v.removeEventListener("channelError",_),v.removeEventListener("disconnect",C),m.forEach(j=>v.removeEventListener(j,R)),v.close())}function F(){y&&g.next({type:"reconnect"})}async function q(){const{default:j}=await ht(async()=>{const{default:A}=await import("./browser.tTyWXROT.js").then(T=>T.b);return{default:A}},[],import.meta.url);if(b)return;const w=new j(p,d);return w.addEventListener("error",S),w.addEventListener("channelError",_),w.addEventListener("disconnect",C),m.forEach(A=>w.addEventListener(A,R)),w}function J(){q().then(j=>{j&&(v=j,b&&I())}).catch(j=>{g.error(j),Y()})}function Y(){h=!0,I(),b=!0}return Y})}function us(t){try{const e=t.data&&JSON.parse(t.data)||{};return Object.assign({type:t.type},e)}catch(e){return e}}function Ca(t){if(t instanceof Error)return t;const e=us(t);return e instanceof Error?e:new Error(Ta(e))}function Ta(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}const Yr="2021-03-26";var ge;class cs{constructor(e){k(this,ge);M(this,ge,e)}events({includeDrafts:e=!1,tag:r}={}){const{projectId:n,apiVersion:s,token:i,withCredentials:o,requestTagPrefix:a}=E(this,ge).config(),c=s.replace(/^v/,"");if(c!=="X"&&c<Yr)throw new Error(`The live events API requires API version ${Yr} or later. The current API version is ${c}. Please update your API version to use this feature.`);if(e&&!i&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");if(e&&c!=="X")throw new Error("The live events API requires API version X when 'includeDrafts: true'. This API is experimental and may change or even be removed.");const l=Se(E(this,ge),"live/events"),u=new URL(E(this,ge).getUrl(l,!1)),p=r&&a?[a,r].join("."):r;p&&u.searchParams.set("tag",p),e&&u.searchParams.set("includeDrafts","true");const m=["restart","message","welcome","reconnect"],y={};return e&&i&&(y.headers={Authorization:`Bearer ${i}`}),e&&o&&(y.withCredentials=!0),new X(d=>{let g,v,f=!1,h=!1;C();function b(F){if(!f){if("data"in F){const q=Qr(F);d.error(new Error(q.message,{cause:q}))}g.readyState===g.CLOSED&&(_(),clearTimeout(v),v=setTimeout(C,100))}}function S(F){const q=Qr(F);return q instanceof Error?d.error(q):d.next(q)}function _(){if(g){g.removeEventListener("error",b);for(const F of m)g.removeEventListener(F,S);g.close()}}async function R(){const F=typeof EventSource>"u"||y.headers||y.withCredentials?(await ht(async()=>{const{default:J}=await import("./browser.tTyWXROT.js").then(Y=>Y.b);return{default:J}},[],import.meta.url)).default:EventSource;if(h)return;try{if(await fetch(u,{method:"OPTIONS",mode:"cors",credentials:y.withCredentials?"include":"omit",headers:y.headers}),h)return}catch{throw new No({projectId:n})}const q=new F(u.toString(),y);q.addEventListener("error",b);for(const J of m)q.addEventListener(J,S);return q}function C(){R().then(F=>{F&&(g=F,h&&_())}).catch(F=>{d.error(F),I()})}function I(){f=!0,_(),h=!0}return I})}}ge=new WeakMap;function Qr(t){try{const e=t.data&&JSON.parse(t.data)||{};return{type:t.type,id:t.lastEventId,...e}}catch(e){return e}}var le,fe;class _a{constructor(e,r){k(this,le);k(this,fe);M(this,le,e),M(this,fe,r)}create(e,r){return _e(E(this,le),E(this,fe),"PUT",e,r)}edit(e,r){return _e(E(this,le),E(this,fe),"PATCH",e,r)}delete(e){return _e(E(this,le),E(this,fe),"DELETE",e)}list(){return te(E(this,le),E(this,fe),{uri:"/datasets",tag:null})}}le=new WeakMap,fe=new WeakMap;var he,de;class Oa{constructor(e,r){k(this,he);k(this,de);M(this,he,e),M(this,de,r)}create(e,r){return V(_e(E(this,he),E(this,de),"PUT",e,r))}edit(e,r){return V(_e(E(this,he),E(this,de),"PATCH",e,r))}delete(e){return V(_e(E(this,he),E(this,de),"DELETE",e))}list(){return V(te(E(this,he),E(this,de),{uri:"/datasets",tag:null}))}}he=new WeakMap,de=new WeakMap;function _e(t,e,r,n,s){return zn(n),te(t,e,{method:r,uri:`/datasets/${n}`,body:s,tag:null})}var Re,$e;class Ra{constructor(e,r){k(this,Re);k(this,$e);M(this,Re,e),M(this,$e,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return te(E(this,Re),E(this,$e),{uri:r})}getById(e){return te(E(this,Re),E(this,$e),{uri:`/projects/${e}`})}}Re=new WeakMap,$e=new WeakMap;var Ie,xe;class $a{constructor(e,r){k(this,Ie);k(this,xe);M(this,Ie,e),M(this,xe,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return V(te(E(this,Ie),E(this,xe),{uri:r}))}getById(e){return V(te(E(this,Ie),E(this,xe),{uri:`/projects/${e}`}))}}Ie=new WeakMap,xe=new WeakMap;var Je,Ge;class Ia{constructor(e,r){k(this,Je);k(this,Ge);M(this,Je,e),M(this,Ge,r)}getById(e){return te(E(this,Je),E(this,Ge),{uri:`/users/${e}`})}}Je=new WeakMap,Ge=new WeakMap;var Ye,Qe;class xa{constructor(e,r){k(this,Ye);k(this,Qe);M(this,Ye,e),M(this,Qe,r)}getById(e){return V(te(E(this,Ye),E(this,Qe),{uri:`/users/${e}`}))}}Ye=new WeakMap,Qe=new WeakMap;var ie,B;const lt=class lt{constructor(e,r=Le){x(this,"assets");x(this,"datasets");x(this,"live");x(this,"projects");x(this,"users");k(this,ie);k(this,B);x(this,"listen",as);this.config(r),M(this,B,e),this.assets=new ga(this,E(this,B)),this.datasets=new _a(this,E(this,B)),this.live=new cs(this),this.projects=new Ra(this,E(this,B)),this.users=new Ia(this,E(this,B))}clone(){return new lt(E(this,B),this.config())}config(e){if(e===void 0)return{...E(this,ie)};if(E(this,ie)&&E(this,ie).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return M(this,ie,Qn(e,E(this,ie)||{})),this}withConfig(e){const r=this.config();return new lt(E(this,B),{...r,...e,stega:{...r.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,r,n){return Xn(this,E(this,B),E(this,ie).stega,e,r,n)}getDocument(e,r){return Zn(this,E(this,B),e,r)}getDocuments(e,r){return es(this,E(this,B),e,r)}create(e,r){return bt(this,E(this,B),e,"create",r)}createIfNotExists(e,r){return ts(this,E(this,B),e,r)}createOrReplace(e,r){return rs(this,E(this,B),e,r)}delete(e,r){return ns(this,E(this,B),e,r)}mutate(e,r){return ss(this,E(this,B),e,r)}patch(e,r){return new be(e,r,this)}transaction(e){return new ct(e,this)}action(e,r){return is(this,E(this,B),e,r)}request(e){return te(this,E(this,B),e)}getUrl(e,r){return ur(this,e,r)}getDataUrl(e,r){return Se(this,e,r)}};ie=new WeakMap,B=new WeakMap;let Vt=lt;var oe,K;const ft=class ft{constructor(e,r=Le){x(this,"assets");x(this,"datasets");x(this,"live");x(this,"projects");x(this,"users");x(this,"observable");k(this,oe);k(this,K);x(this,"listen",as);this.config(r),M(this,K,e),this.assets=new ma(this,E(this,K)),this.datasets=new Oa(this,E(this,K)),this.live=new cs(this),this.projects=new $a(this,E(this,K)),this.users=new xa(this,E(this,K)),this.observable=new Vt(e,r)}clone(){return new ft(E(this,K),this.config())}config(e){if(e===void 0)return{...E(this,oe)};if(E(this,oe)&&E(this,oe).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),M(this,oe,Qn(e,E(this,oe)||{})),this}withConfig(e){const r=this.config();return new ft(E(this,K),{...r,...e,stega:{...r.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,r,n){return V(Xn(this,E(this,K),E(this,oe).stega,e,r,n))}getDocument(e,r){return V(Zn(this,E(this,K),e,r))}getDocuments(e,r){return V(es(this,E(this,K),e,r))}create(e,r){return V(bt(this,E(this,K),e,"create",r))}createIfNotExists(e,r){return V(ts(this,E(this,K),e,r))}createOrReplace(e,r){return V(rs(this,E(this,K),e,r))}delete(e,r){return V(ns(this,E(this,K),e,r))}mutate(e,r){return V(ss(this,E(this,K),e,r))}patch(e,r){return new we(e,r,this)}transaction(e){return new ut(e,this)}action(e,r){return V(is(this,E(this,K),e,r))}request(e){return V(te(this,E(this,K),e))}dataRequest(e,r,n){return V(Pe(this,E(this,K),e,r,n))}getUrl(e,r){return ur(this,e,r)}getDataUrl(e,r){return Se(this,e,r)}};oe=new WeakMap,K=new WeakMap;let Ht=ft;function Pa(t,e){const r=Bo(t);return{requester:r,createClient:n=>new e((s,i)=>(i||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...s}),n)}}var ja=[];const Ma=Pa(ja,Ht),ka=Ma.createClient,La="kijh3dc6",Fa="production";function ls(t,e){if(t===void 0)throw new Error(`Missing environment variable: ${e}`);return t}const qa=ls(Fa,"PUBLIC_SANITY_DATASET"),Da=ls(La,"PUBLIC_SANITY_PROJECT_ID"),Ua="2024-03-15",Na="http://localhost:3333",ru=ka({projectId:Da,dataset:qa,apiVersion:Ua,useCdn:!0,stega:{studioUrl:Na}});export{on as A,Qa as B,tu as C,Wa as D,Ya as E,En as F,Ut as G,bn as H,Ja as I,X as O,Ht as S,ve as _,Rn as a,ru as b,Ga as c,pt as d,me as e,H as f,Ls as g,yi as h,rr as i,un as j,Fe as k,br as l,ae as m,vr as n,We as o,Hs as p,Xe as q,Za as r,Ha as s,Qt as t,Xa as u,tn as v,Wt as w,Ns as x,Xt as y,Ee as z};
